// function getSubdomain(hostname) {
// 	var regexParse = new RegExp('[a-z\-0-9]{2,63}\.[a-z\.]{2,5}$');
// 	var urlParts = regexParse.exec(hostname);
// 	return hostname.replace(urlParts[0],'').slice(0, -1);
// }

// console.log(getSubdomain(window.location.hostname));

// var subdomain = getSubdomain(window.location.hostname);

// if(subdomain == 'devtech'){
	var errorElem = [];
	var documentElem=[];
	var descrr='';
	$(function() {
		$.ajaxSetup({
			headers: {
				'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
			}
		});
	
		var sub_id = getParam("sub_id");
		var sub_id= Base64.decode(sub_id);
	
		if(sub_id!=''){
			history.pushState(null, null, document.URL);
			window.addEventListener('popstate', function () { history.pushState(null, null, document.URL); });
		}
	
		$( document ).ajaxError(function( event, jqxhr, settings, thrownError ) {
			if (jqxhr.responseJSON.message == 'Forbidden') {
				bootbox.confirm("Your session has expired. Would you like to be redirected to the login page?", function(result) {
					if (result) {
						window.location = '/session-out';
					}
				});
			}else{
			  showMsgModel(jqxhr.statusText+' ( '+jqxhr.status+' )',jqxhr.responseText,'large');
			}
		});
	
		$(".toggle-password").click(function() {
			$(this).toggleClass("fa-eye fa-eye-slash");
			var input = $($(this).attr("toggle"));
			if (input.attr("type") == "password") {
				input.attr("type", "text");
				} else {
				input.attr("type", "password");
			}
		});
	
		$("input, select, textarea").attr("autocomplete", "off");
		$('[data-toggle="tooltip"]').tooltip();
	
		$(".date").datepicker({
			dateFormat: 'dd-mm-yy',
			changeMonth: true,
			changeYear: true,
			yearRange: "-52:+0",
			setDate: new Date(),
			maxDate: new Date(),
		});
		
		$(".date_full").datepicker({
			dateFormat: 'dd-mm-yy',
			changeMonth: true,
			changeYear: true,
			yearRange: "-60:+0",
			setDate: new Date(),
			maxDate: new Date(),
		});
		
		$(".dobdate").datepicker({
			dateFormat: 'dd-mm-yy',
			changeMonth: true,
			changeYear: true,
			yearRange: "-60:+0",
			setDate: new Date(),
			maxDate: new Date(),
		});
		
		$('form').submit(function(e) {
			e.preventDefault();
			var submitForm=this;
			var input= [];
			var frmReturn =$(this).attr('onsubmit')
			if(frmReturn)return false;
			input =$(this).find(':input');
			$(input).each(function(index,i){
				if($(this).attr('name')!='_token'){
					if($('#'+$(this).attr('id')).hasClass("required") && $('#'+$(this).attr('id')).val()==''){
						errorElem.push($(this).attr('id'));
					}
				}
			});
			sel =[];
			sel =$(this).find(':selected');
			$(sel).each(function(index,i){
				if($(this).attr('name')!='_token'){
					if($('#'+$(this).attr('id')).hasClass("required") && $('#'+$(this).attr('id')).val()==''){
						errorElem.push($(this).attr('id'));
					}
				}
			});
	
			if(errorElem.length > 0){
				errorBlock();
				if ($('.alertMsg').length > 0) {
					$('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+local.data_required+'</div>');
					$("html,body").animate({scrollTop:0 },"slow");
				}else{
					showMsgModel("", local.data_required);
				}
				return false;
			}else{
				submitForm.submit();
			}
		});
	
		$(".monthyearnew").datepicker( {
			format: "mm-yyyy",
			startView: "months",
			minViewMode: "months"
		});
	
		/*Only for month/year*/
		$('.monthyear').datepicker({
			dateFormat: "mm/yy",
			changeMonth: true,
			changeYear: true,
			yearRange: "-45:-1",
			showButtonPanel: true,
			closeText : "OK",
			onClose: function(dateText, inst) {
	
				function isDonePressed(){
					return ($('#ui-datepicker-div').html().indexOf('ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all ui-state-hover') > -1);
				}
	
				if (isDonePressed()){
					var month = $("#ui-datepicker-div .ui-datepicker-month :selected").val();
					var year = $("#ui-datepicker-div .ui-datepicker-year :selected").val();
					$(this).datepicker('setDate', new Date(year, month, 1)).trigger('change');
	
					$('.monthyear').focusout()//Added to remove focus from datepicker input box on selecting date
				}
			}/*,
				beforeShow : function(input, inst) {
	
				inst.dpDiv.addClass('month_year_datepicker')
	
				if ((datestr = $(this).val()).length > 0) {
				year = datestr.substring(datestr.length-4, datestr.length);
				month = datestr.substring(0, 2);
				$(this).datepicker('option', 'defaultDate', new Date(year, month-1, 1));
				$(this).datepicker('setDate', new Date(year, month-1, 1));
				$(".ui-datepicker-calendar").hide();
				}
			}*/
		});
		/*Only for month/year*/
	
		$('#loginid').keypress(function(e) {
			if(e.which == 13) {
				$("#loginCheckId").click();
			}
		});
		$('#continuepassword').keypress(function(e) {
			if(e.which == 13) {
				continueRegistration();
			}
		});
	
		$( document ).ajaxStart(function() {
			$('body').css({'cursor' : 'wait'});
			$('body').find(':input').css({'cursor' : 'wait'});
			}).ajaxComplete(function() {
			$('body').css({'cursor' : 'default'});
			$('body').find(':input').css({'cursor' : 'default'});
		});
		var app_id = getParam("app_id");
		var app_id= Base64.decode(app_id);
	
		blinker=function(){
			$('.blink_me').fadeOut(400);
			$('.blink_me').fadeIn(500);
		}
		setInterval(blinker, 2000);
		$(".Calender").datepicker({
			dateFormat: 'dd-mm-yy',
			changeMonth: true,
			changeYear: true,
			yearRange: "-58:+1",
		});
		
		//date of Birth Validate
		$("#DD,#MM,#YYYY").on('change', function(e){
			var target = e.target.id;
			console.log($(this).val());		
			if($("#DD").val() != "" && $("#DD").val() != 0 && $("#MM").val() != "" && $("#MM").val() != 0 && $("#YYYY").val() != "" && $("#YYYY").val() != 0){
				var dob_ymd = $("#YYYY").val() +"-"+ $("#MM").val() +"-"+ $("#DD").val();
				var dob_dmy = $("#DD").val() +"-"+ $("#MM").val() +"-"+ $("#YYYY").val();
				var dobDate = moment(dob_ymd);
				var dobValid = dobDate.isValid();
				if(dobValid){
					bootbox.confirm({
						title: local.confirmation,
						message: `You have selected <strong>${dob_dmy}</strong> as your Date of Birth. <br/> Please Confirm.`,
						buttons: {
							confirm: {
								label: local.yes,
								className: 'btn-success'
							},
							cancel: {
								label: local.no,
								className: 'btn-danger'
							}
						},
						callback: function (result) {
							if(result==true){
								//
							}else{
								$("#DD").val('');
								$("#MM").val('');
								$("#YYYY").val('');
							}
						}
					});	
				}else{
					showMsgModel(local.warning,`You have selected <strong>${dob_dmy}</strong> as your Date of Birth. This is invalid Date.<br/>Please Confirm.`);
					$("#DD").val('');
					$("#MM").val('');
					$("#YYYY").val('');
				}
			}else if($("#DD").val() != "" && $("#DD").val() != 0 && $("#MM").val() != "" && $("#MM").val() != 0){
				var dob_ymd = '2020' +"-"+ $("#MM").val() +"-"+ $("#DD").val();
				// var dob_dmy = $("#DD").val() +"-"+ $("#MM").val() +"-"+ '2020';
				var dobDate = moment(dob_ymd);
				var dobValid = dobDate.isValid();
				if(!dobValid){
					showMsgModel(local.warning,`You have selected Invalid Date and Month. Please Check`);
					$("#DD").val('');
					$("#MM").val('');				
				}
			}
		});
		
		$('#sex').on('focusin', function(){
			$(this).attr('data-val', $(this).val());
		}).on('change',function(e){
			// showMsgModel(local.confirmation,local.confirm_gender);
			console.log($(this).data('val'));
			$('#marital_status').parent().parent().addClass('hide');
			$('#marital_status').removeClass('required');
	
			if($('#sex').val()=="male" || $('#sex').val()=="female" || $('#sex').val()=="third_gender"){	
				bootbox.confirm({
					title: local.confirmation,
					message: `You have selected <strong>${$('#sex option:selected').text()}</strong> as your Gender. <br/> Please Confirm.`,
					buttons: {
						confirm: {
							label: local.yes,
							className: 'btn-success'
						},
						cancel: {
							label: local.no,
							className: 'btn-danger'
						}
					},
					callback: function (result) {				
						if(result==true){
							if($('#sex').val()=="male" || $('#sex').val()=="female"){
								$('#marital_status').parent().parent().removeClass('hide');
								$('#marital_status').addClass('required');
								$('#marital_status').val('');
								
								$('#third_Gender_div, #third_Gender_doc_issued_div, #third_Gender_doc_div').addClass('hide');
								$('#third_gender, #third_Gender_doc_issued_by, #TRANS_ID_CARD, #TRANS_ISSUE_DATE').removeClass('required');
								$('#third_gender, #third_Gender_doc_issued_by, #TRANS_ID_CARD, #TRANS_ISSUE_DATE').val('');
					
								if($('#sg').val() != '1'){
									// showHideBirthConverted();
									resetCommunalCat();
									setCommunalCat();
								}
								$('#sg').val('1');
							}else if($('#sex').val()=="third_gender"){
								$('#marital_status').parent().parent().removeClass('hide');
								$('#marital_status').addClass('required');
								$('#marital_status').val('');
					
								$('#third_Gender_div, #third_Gender_doc_issued_div').removeClass('hide');
								$('#third_gender, #third_Gender_doc_issued_by').addClass('required');
					
								// showHideBirthConverted();
								resetCommunalCat();
								setCommunalCat();
					
								$('#sg').val('2');
							}else{
								$('#third_Gender_div, #third_Gender_doc_issued_div, #third_Gender_doc_div').addClass('hide');
								$('#third_gender, #third_Gender_doc_issued_by, #TRANS_ID_CARD, #TRANS_ISSUE_DATE').removeClass('required');
								$('#third_gender, #third_Gender_doc_issued_by, #TRANS_ID_CARD, #TRANS_ISSUE_DATE, #marital_status').val('');
					
								// showHideBirthConverted();
								resetCommunalCat();
								setCommunalCat();
								$('#sg').val('');
							}						
						}else{
							// $('#sex').val('').trigger('change');
							$('#sex').val($('#sex').attr('data-val'));
						}
					}
				});
			}else{
				$('#third_Gender_div, #third_Gender_doc_issued_div, #third_Gender_doc_div').addClass('hide');
				$('#third_gender, #third_Gender_doc_issued_by, #TRANS_ID_CARD, #TRANS_ISSUE_DATE').removeClass('required');
				$('#third_gender, #third_Gender_doc_issued_by, #TRANS_ID_CARD, #TRANS_ISSUE_DATE, #marital_status').val('');
	
				// showHideBirthConverted();
				resetCommunalCat();
				// setCommunalCat();
				$('#sg').val('');
			}	
		});

		//for officcer exam otr start
		$('#sex1').on('focusin', function(){
			$(this).attr('data-val', $(this).val());
		}).on('change',function(e){
			// showMsgModel(local.confirmation,local.confirm_gender);
			$('#marital_status').parent().parent().addClass('hide');
			$('#marital_status').removeClass('required');
	
			if($('#sex1').val()=="male" || $('#sex1').val()=="female" || $('#sex1').val()=="third_gender"){	
				bootbox.confirm({
					title: local.confirmation,
					message: `You have selected <strong>${$('#sex1 option:selected').text()}</strong> as your Gender. <br/> Please Confirm.`,
					buttons: {
						confirm: {
							label: local.yes,
							className: 'btn-success'
						},
						cancel: {
							label: local.no,
							className: 'btn-danger'
						}
					},
					callback: function (result) {				
						if(result==true){
							if($('#sex1').val()=="male" || $('#sex1').val()=="female"){
								$('#marital_status').parent().parent().removeClass('hide');
								$('#marital_status').addClass('required');
								$('#marital_status').val('');
								
								$('#third_Gender_div, #third_Gender_doc_div').addClass('hide');
								$('#third_gender, #TRANS_ID_CARD, #TRANS_ISSUE_DATE').removeClass('required');
								$('#third_gender, #TRANS_ID_CARD, #TRANS_ISSUE_DATE').val('');
								
							}else if($('#sex1').val()=="third_gender"){
								$('#marital_status').parent().parent().removeClass('hide');
								$('#marital_status').addClass('required');
								$('#marital_status').val('');
					
								$('#third_Gender_div, #third_Gender_doc_div').removeClass('hide');
								$('#third_gender, #TRANS_ID_CARD, #TRANS_ISSUE_DATE').addClass('required');
							}else{
								$('#third_Gender_div, #third_Gender_doc_div').addClass('hide');
								$('#third_gender, #TRANS_ID_CARD, #TRANS_ISSUE_DATE').removeClass('required');
								$('#third_gender, #TRANS_ID_CARD, #TRANS_ISSUE_DATE, #marital_status').val('');					
							}						
						}else{							
							$('#sex1').val($('#sex1').attr('data-val'));
						}
					}
				});
			}else{
				$('#third_Gender_div, #third_Gender_doc_div').addClass('hide');
				$('#third_gender, #TRANS_ID_CARD, #TRANS_ISSUE_DATE').removeClass('required');
				$('#third_gender, #TRANS_ID_CARD, #TRANS_ISSUE_DATE, #marital_status').val('');
			}	
		});
		//for officcer exam otr end
	
		$('#third_Gender_doc_issued_by').on('change',function(){
			if($(this).val()=="101"){
				$('#third_Gender_doc_div').removeClass('hide');
				$('#TRANS_ID_CARD, #TRANS_ISSUE_DATE').addClass('required');
				// othercastcheck();
			}else if($(this).val()=="102"){
				// showMsgModel(local.warning,local.third_gender_id_card_issued_by_msg);
				$('#third_Gender_doc_div').addClass('hide');
				$('#TRANS_ID_CARD, #TRANS_ISSUE_DATE').removeClass('required');
				$('#TRANS_ID_CARD, #TRANS_ISSUE_DATE').val('');
				othercastcheck();
			}
			resetCommunalCat();
			setCommunalCat();
		});
	
		$("#student_religion").on('change', function(){
			if($(this).val() !="" && $(this).val() !=0){
				if($(this).val()== 6){
					$('#student_religion_other').parent().parent().removeClass('hide');
					$('#student_religion_other').addClass('required');
				}else{
					$('#student_religion_details').val("");
					$('#student_religion_other').parent().parent().addClass('hide');
					$('#student_religion_other').val("");
					$('#student_religion_other').removeClass('required');
				}
			}else{
				$('#student_religion_details').val("");
				$('#student_religion_other').parent().parent().addClass('hide');
				$('#student_religion_other').val("");
				$('#student_religion_other').removeClass('required');
			}
			// showHideBirthConverted();
			resetCommunalCat();
			setCommunalCat();		
		});
	
		showHideBirthConverted = function(){
			var student_religion = $("#student_religion").val();
			var sex = $('#sex').val();
	
			// if((sex == 'male' || sex == 'female') && student_religion == 2){
			// 	$('#FGR_HAS_BCM_BIRTH_CONVERTED').removeClass('hide');
			// 	$('#HAS_BCM_BIRTH_CONVERTED').addClass('required');	
			// }else{
			// 	$('#FGR_HAS_BCM_BIRTH_CONVERTED').addClass('hide');
			// 	$('#HAS_BCM_BIRTH_CONVERTED').removeClass('required');
			// 	$('#HAS_BCM_BIRTH_CONVERTED').val('');
			// }
		}
	
		$("#native_district,#birth_place,#father_place_birth,#father_native_district").on('change', function(e){
			console.log(e.target.id);
			console.log($(this));
			var target = e.target.id;
			if(target == 'native_district') var message = local.are_sure_native;
			if(target == 'birth_place') var message = local.are_sure_birth;
			if(target == 'father_place_birth') var message = local.are_sure_father_birth;
			if(target == 'father_native_district') var message = local.are_sure_father_native;
			if($(this).val() != "" && $(this).val() != 0){
				if($(this).val() == 1000){
					bootbox.confirm({
						message: message,
						buttons: {
							confirm: {
								label: local.yes,
								className: 'btn-success'
							},
							cancel: {
								label: local.no,
								className: 'btn-danger'
							}
						},
						callback: function (result) {
							if(result==true){
								othercastcheck();							
							}else{
								$('#'+e.target.id).val("");
							}
						}
					});
				}else{
					othercastcheck();
				}
			}else{
				$("#HAS_COMMUNAL_CATEGORY option").remove();                
				$('#HAS_COMMUNAL_CATEGORY').append($('<option>', {value: '', text: '-Select-'}));
				
				$("#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE option").remove();                
				$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '', text: '-Select-'}));
			}
		});
	
		$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').on('change',function(){
			var third_Gender_doc_issued_by = $('#third_Gender_doc_issued_by').val();
			if($(this).val()=="101"){
	
				$('#FGR_THIRD_GENDER_CAT').addClass('hide');
				$('#THIRD_GENDER_CAT').removeClass('required');
				$("#THIRD_GENDER_CAT option").remove();
				$('#THIRD_GENDER_CAT').append($('<option>', {value: '', text: '-Select-'}));
	
				$('#FGR_ISSUED_STATE').removeClass('hide');
				$('#ISSUED_STATE').addClass('required');
	
				$('#FGR_STUDENTCATEGORY').removeClass('hide');
				$('#STUDENTCATEGORY').addClass('required');
				$("#STUDENTCATEGORY option").remove();
				$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
	
				// $("#STUDENTCATEGORY option").remove();
				// $('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
				// $('#STUDENTCATEGORY').append($('<option>', {value: 1, text: 'Scheduled Tribe (ST)'}));
				// $('#STUDENTCATEGORY').append($('<option>', {value: 2, text: 'Scheduled Caste (SC)'}));
				// $('#STUDENTCATEGORY').append($('<option>', {value: 3, text: 'Scheduled Caste-Arunthathiar(SCA)'}));
				// $('#STUDENTCATEGORY').append($('<option>', {value: 4, text: 'Most Backward Class(MBC)'}));
				// $('#STUDENTCATEGORY').append($('<option>', {value: 5, text: 'Denotified Community(DC)'}));
				// $('#STUDENTCATEGORY').append($('<option>', {value: 6, text: 'Backward Class(BC)'}));
				// $('#STUDENTCATEGORY').append($('<option>', {value: 7, text: 'Backward Class-Muslim(BCM)'}));
				// $('#STUDENTCATEGORY').append($('<option>', {value: 8, text: 'Others'}));
	
				// showHideSubCat('hide');
	
				// $('#FGR_STUDENTCATEGORY').removeClass('hide');
				// $('#STUDENTCATEGORY').addClass('required');
			}else if($(this).val()=="102"){
	
				$('#FGR_ISSUED_STATE').addClass('hide');
				$('#ISSUED_STATE').val("");				
				$('#ISSUED_STATE').removeClass('required');
	
				$('#FGR_DISTRICT').addClass('hide');
				$('#DISTRICT').val("");
				$("#DISTRICT option").remove();
				$('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
				$('#DISTRICT').removeClass('required');
	
				$('#FGR_TALUK').addClass('hide');
				$("#TALUK").val("");
				$("#TALUK option").remove();
				$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
				$('#TALUK').removeClass('required');
				
				$('#FGR_STUDENTCATEGORY').addClass('hide');
				$('#STUDENTCATEGORY').val("");
				$("#STUDENTCATEGORY option").remove();
				$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
				$('#STUDENTCATEGORY').removeClass('required');
	
				$('#FGR_THIRD_GENDER_CAT').addClass('hide');	
				$('#THIRD_GENDER_CAT').val("");
				$("#THIRD_GENDER_CAT option").remove();
				$('#THIRD_GENDER_CAT').append($('<option>', {value: '', text: '-Select-'}));
				$('#THIRD_GENDER_CAT').removeClass('required');
				
				$('#FGR_STUDENTSUBCATEGORY').addClass('hide');
				$('#STUDENTSUBCATEGORY').val("");
				$("#STUDENTSUBCATEGORY option").remove();
				$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
				$('#STUDENTSUBCATEGORY').removeClass('required');
	
				$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
				$('#DOC_ISSUE_AUTHORITY').val("");
				$("#DOC_ISSUE_AUTHORITY option").remove();
				$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
				$('#DOC_ISSUE_AUTHORITY').removeClass('required');
	
				$('#FGR_DOC_NO').addClass('hide');
				$('#DOC_NO').val("");
				$('#DOC_NO').removeClass('required');
	
				$('#FGR_DOC_ISSUE_MONTH').addClass('hide');
				$('#DOC_ISSUE_MONTH').val("");
				$('#DOC_ISSUE_MONTH').removeClass('required');
	
				if(third_Gender_doc_issued_by == 101){
					showMsgModel(local.warning, local.third_gender_has_community_certificate_msg_102);
					
					$('#FGR_THIRD_GENDER_CAT').removeClass('hide');	
					$('#THIRD_GENDER_CAT').addClass('required');
					$("#THIRD_GENDER_CAT option").remove();
					$('#THIRD_GENDER_CAT').append($('<option>', {value: '', text: '-Select-'}));
	
					$('#THIRD_GENDER_CAT').append($('<option>', {value: 3, text: 'Most Backward Class(MBC)'}));
					$('#THIRD_GENDER_CAT').append($('<option>', {value: 4, text: 'Others'}));
	
				}else if(third_Gender_doc_issued_by == 102){
					showMsgModel(local.warning, local.third_gender_has_community_certificate_msg_102_102);
	
					$('#FGR_THIRD_GENDER_CAT').removeClass('hide');	
					$('#THIRD_GENDER_CAT').addClass('required');
					$("#THIRD_GENDER_CAT option").remove();
					$('#THIRD_GENDER_CAT').append($('<option>', {value: '', text: '-Select-'}));
	
					$('#THIRD_GENDER_CAT').append($('<option>', {value: 3, text: 'Most Backward Class(MBC)'}));
					$('#THIRD_GENDER_CAT').append($('<option>', {value: 4, text: 'Others'}));

					// $('#FGR_STUDENTCATEGORY').removeClass('hide');
					// $('#STUDENTCATEGORY').addClass('required');	
					// $("#STUDENTCATEGORY option").remove();
					// $('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
					// $('#STUDENTCATEGORY').append($('<option>', {value: 3, text: 'Most Backward Class(MBC)'}));
					// $('#STUDENTCATEGORY').append($('<option>', {value: 8, text: 'Others'}));
				}
			}else{
				$('#FGR_ISSUED_STATE').addClass('hide');
				$('#ISSUED_STATE').val("");				
				$('#DOC_ISSUE_MONTH').removeClass('required');
	
				$('#FGR_DISTRICT').addClass('hide');
				$('#DISTRICT').val("");
				$("#DISTRICT option").remove();
				$('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
				$('#DOC_ISSUE_MONTH').removeClass('required');
	
				$('#FGR_TALUK').addClass('hide');
				$("#TALUK").val("");
				$("#TALUK option").remove();
				$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
				$('#TALUK').removeClass('required');
				
				$('#FGR_STUDENTCATEGORY').addClass('hide');
				$('#STUDENTCATEGORY').val("");
				$("#STUDENTCATEGORY option").remove();
				$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
				$('#STUDENTCATEGORY').removeClass('required');
	
				$('#FGR_STUDENTSUBCATEGORY').addClass('hide');
				$('#STUDENTSUBCATEGORY').val("");
				$("#STUDENTSUBCATEGORY option").remove();
				$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
				$('#STUDENTSUBCATEGORY').removeClass('required');
	
				$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
				$('#DOC_ISSUE_AUTHORITY').val("");
				$("#DOC_ISSUE_AUTHORITY option").remove();
				$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
				$('#DOC_ISSUE_AUTHORITY').removeClass('required');
	
				$('#FGR_DOC_NO').addClass('hide');
				$('#DOC_NO').val("");
				$('#DOC_NO').removeClass('required');
	
				$('#FGR_DOC_ISSUE_MONTH').addClass('hide');
				$('#DOC_ISSUE_MONTH').val("");
				$('#DOC_ISSUE_MONTH').removeClass('required');
			}
		});
	
		$('#THIRD_GENDER_CAT').on('change',function(){
			var third_gender_cat = $(this).val();
			var sex = $('#sex').val();
			var third_gender_has_com_certi = $('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').val();
	
			if(sex == 'third_gender' && third_gender_has_com_certi == 102){
				// if(third_gender_cat == '3'){
				// 	showMsgModel(local.confirmation,'the same shall be agreed to');
				// }else if(third_gender_cat == '4'){
				// 	showMsgModel(local.confirmation,'He/She shall be considered as Others');
				// }
				if($('#THIRD_GENDER_CAT').val() !=""){
					bootbox.confirm({
						message: `You have selected <strong>${$('#THIRD_GENDER_CAT option:selected').text()}</strong>. \n Please Confirm.`,
						buttons: {
							confirm: {
								label: local.yes,
								className: 'btn-success'
							},
							cancel: {
								label: local.no,
								className: 'btn-danger'
							}
						},
						callback: function (result) {
							if(result==true){
								if($('#THIRD_GENDER_CAT').val() != '4'){
									showMsgModel(local.warning, 'You have to obtain ID card from TamilNadu Transgender Welfare Board and upload/produce the same whenever called for, failing which your candidature will be rejected.');	
								}		
							}else{
								$('#THIRD_GENDER_CAT').val('');							
							}
						}
					});
				}
			}
		});
	
		$('#HAS_COMMUNAL_CATEGORY').on('change',function(){
			var communal_cat = $(this).val();
			var sex = $('#sex').val();		
	
			if(sex != 'third_gender'){
				if(communal_cat == 101){
					// showMsgModel(local.confirmation, "Whether candidate shown as spouse /child in the community certificate? - Should have been obtained in parent's name");
					showMsgModel(local.confirmation, "In order to avail reservation under any communal reservation category, the Community Certificate should contain your parentâ€™s name stating that you are his/her son/daughter. If you are a female candidate, a community certificate containing the husbandâ€™s name depicting you as his spouse will not be accepted.");
	
					$('#FGR_ISSUED_STATE').removeClass('hide');
					$('#ISSUED_STATE').addClass('required');
	
					$('#FGR_STUDENTCATEGORY').removeClass('hide');
					$('#STUDENTCATEGORY').addClass('required');
					$("#STUDENTCATEGORY option").remove();
					$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
	
					getDistrict("ISSUED_STATE","DISTRICT");
					$('#DISTRICT').val('');
					getCommunalCat();
	
				}else if(communal_cat == 8){
					$('#FGR_ISSUED_STATE').addClass('hide');
					$('#ISSUED_STATE').val("");
					$('#ISSUED_STATE').removeClass('required');
	
					$('#FGR_DISTRICT').addClass('hide');
					$('#DISTRICT').val("");
					$("#DISTRICT option").remove();
					$('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
					$('#DOC_ISSUE_MONTH').removeClass('required');
	
					$('#FGR_TALUK').addClass('hide');
					$("#TALUK").val("");
					$("#TALUK option").remove();
					$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
					$('#TALUK').removeClass('required');
					
					$('#FGR_STUDENTCATEGORY').addClass('hide');
					$('#STUDENTCATEGORY').val("");
					$("#STUDENTCATEGORY option").remove();
					$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
					$('#STUDENTCATEGORY').removeClass('required');
	
					$('#FGR_STUDENTSUBCATEGORY').addClass('hide');
					$('#STUDENTSUBCATEGORY').val("");
					$("#STUDENTSUBCATEGORY option").remove();
					$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
					$('#STUDENTSUBCATEGORY').removeClass('required');
	
					$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
					$('#DOC_ISSUE_AUTHORITY').val("");
					$("#DOC_ISSUE_AUTHORITY option").remove();
					$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
					$('#DOC_ISSUE_AUTHORITY').removeClass('required');
	
					$('#FGR_DOC_NO').addClass('hide');
					$('#DOC_NO').val("");
					$('#DOC_NO').removeClass('required');
	
					$('#FGR_DOC_ISSUE_MONTH').addClass('hide');
					$('#DOC_ISSUE_MONTH').val("");
					$('#DOC_ISSUE_MONTH').removeClass('required');
				}else{
					$('#FGR_ISSUED_STATE').addClass('hide');
					$('#ISSUED_STATE').val("");				
					$('#DOC_ISSUE_MONTH').removeClass('required');
	
					$('#FGR_DISTRICT').addClass('hide');
					$('#DISTRICT').val("");
					$("#DISTRICT option").remove();
					$('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
					$('#DOC_ISSUE_MONTH').removeClass('required');
	
					$('#FGR_TALUK').addClass('hide');
					$("#TALUK").val("");
					$("#TALUK option").remove();
					$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
					$('#TALUK').removeClass('required');
					
					$('#FGR_STUDENTCATEGORY').addClass('hide');
					$('#STUDENTCATEGORY').val("");
					$("#STUDENTCATEGORY option").remove();
					$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
					$('#STUDENTCATEGORY').removeClass('required');
	
					$('#FGR_STUDENTSUBCATEGORY').addClass('hide');
					$('#STUDENTSUBCATEGORY').val("");
					$("#STUDENTSUBCATEGORY option").remove();
					$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
					$('#STUDENTSUBCATEGORY').removeClass('required');
	
					$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
					$('#DOC_ISSUE_AUTHORITY').val("");
					$("#DOC_ISSUE_AUTHORITY option").remove();
					$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
					$('#DOC_ISSUE_AUTHORITY').removeClass('required');
	
					$('#FGR_DOC_NO').addClass('hide');
					$('#DOC_NO').val("");
					$('#DOC_NO').removeClass('required');
	
					$('#FGR_DOC_ISSUE_MONTH').addClass('hide');
					$('#DOC_ISSUE_MONTH').val("");
					$('#DOC_ISSUE_MONTH').removeClass('required');
				}
			}
		});
	
		$("#ISSUED_STATE").on('change', function(){
			var gender = $('#sex').val();
			var third_gender_has_com_certi = $('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').val();
			var third_Gender_doc_issued_by = $('#third_Gender_doc_issued_by').val();
			var has_communal_category = $('#HAS_COMMUNAL_CATEGORY').val();
			if($(this).val() != "" && $(this).val() != 0){
				if($(this).val() == '1000'){
					bootbox.confirm({
						// message: local.other_com,
						message: 'You have selected that your place of issue of your Community Certificate as "Other than Tamil Nadu". As your/father\'s native is a District within Tamil Nadu, your claim with regard to Communal Reservation Category can be accepted subject to the conditions mentioned in GO Ms. No. 25 BC/MBC/Minorities Welfare Department dated 05.06.2002. Please confirm..',
						buttons: {
							confirm: {
								label: local.yes,
								className: 'btn-success'
							},
							cancel: {
								label: local.no,
								className: 'btn-danger'
							}
						},
						callback: function (result) {
							if(result==true){ 
								/* $('#FGR_DISTRICT').addClass('hide');
								$('#DISTRICT').val("");
								$('#DISTRICT').removeClass('required');
	
								$('#FGR_TALUK').addClass('hide');
								$("#TALUK").val("");
								$('#TALUK').removeClass('required');
								
								$('#FGR_STUDENTCATEGORY').addClass('hide');
								$('#STUDENTCATEGORY').val("");
								$('#STUDENTCATEGORY').removeClass('required');
	
								$('#FGR_STUDENTSUBCATEGORY').addClass('hide');
								$('#STUDENTSUBCATEGORY').val("");
								$('#STUDENTSUBCATEGORY').removeClass('required');
	
								$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
								$('#DOC_ISSUE_AUTHORITY').val("");
								$('#DOC_ISSUE_AUTHORITY').removeClass('required');
	
								$('#FGR_DOC_NO').addClass('hide');
								$('#DOC_NO').val("");
								$('#DOC_NO').removeClass('required');
	
								$('#FGR_DOC_ISSUE_MONTH').addClass('hide');
								$('#DOC_ISSUE_MONTH').val("");
								$('#DOC_ISSUE_MONTH').removeClass('required');	*/													
								
								//

								$('#FGR_DISTRICT').addClass('hide');
								$('#DISTRICT').removeClass('required');
								$("#DISTRICT option").remove();
								$('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
				
								$('#FGR_TALUK').addClass('hide');
								$('#TALUK').removeClass('required');
								$("#TALUK option").remove();
								$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));

								// $('#FGR_DISTRICT').removeClass('hide');
								// $('#DISTRICT').addClass('required');
								// $("#DISTRICT option").remove();
								// $('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
				
								// $('#FGR_TALUK').removeClass('hide');
								// $('#TALUK').addClass('required');
								// $("#TALUK option").remove();
								// $('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
				
								$('#FGR_STUDENTCATEGORY').removeClass('hide');
								$('#STUDENTCATEGORY').addClass('required');
				
								$('#FGR_STUDENTSUBCATEGORY').removeClass('hide');
								$('#STUDENTSUBCATEGORY').addClass('required');				
								$("#STUDENTSUBCATEGORY option").remove();
								$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
				
								// $('#FGR_DOC_ISSUE_AUTHORITY').removeClass('hide');
								// $('#DOC_ISSUE_AUTHORITY').addClass('required');				
								// $("#DOC_ISSUE_AUTHORITY option").remove();
								// $('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));	

								$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
								$('#DOC_ISSUE_AUTHORITY').removeClass('required');				
								$("#DOC_ISSUE_AUTHORITY option").remove();
								$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));	
				
								$('#FGR_DOC_NO').removeClass('hide');
								$('#DOC_NO').addClass('required');	
				
								$('#FGR_DOC_ISSUE_MONTH').removeClass('hide');
								$('#DOC_ISSUE_MONTH').addClass('required');	
								//
								if(gender == 'male' || gender == 'female'){
									// $("#HAS_COMMUNAL_CATEGORY option").remove();
									// $('#HAS_COMMUNAL_CATEGORY').append($('<option>', {value: '', text: '-Select-'}));
									// $('#HAS_COMMUNAL_CATEGORY').append($('<option>', {value: 8, text: 'Others'}));							
									$("#HAS_COMMUNAL_CATEGORY").addClass('required');
	
									$("#STUDENTCATEGORY option").remove();								
									$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));								
								}else if(gender == 'third_gender'){
									if(third_gender_has_com_certi == '101' && third_Gender_doc_issued_by == '102'){
										$('#FGR_STUDENTCATEGORY').removeClass('hide');
										$("#STUDENTCATEGORY").addClass('required');
	
										$("#STUDENTCATEGORY option").remove();
										$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));								
										getCommunalCat();
									}
									if(third_gender_has_com_certi == '101' && third_Gender_doc_issued_by == '101'){
										$('#FGR_THIRD_GENDER_CAT').removeClass('hide');
										$('#THIRD_GENDER_CAT').addClass('required');
										$('#THIRD_GENDER_CAT').val('');
										$('#THIRD_GENDER_CAT option').remove();
										//set third_gender_cat option MBC/Others
										$('#THIRD_GENDER_CAT').append($('<option>', {value: '', text: '-Select-'}));
										$('#THIRD_GENDER_CAT').append($('<option>', {value: 3, text: 'MOST BACKWARD CLASS'}));
										$('#THIRD_GENDER_CAT').append($('<option>', {value: 4, text: 'OTHERS'}));
									}
								}
								getDistrict("ISSUED_STATE","DISTRICT");
								$('#DISTRICT').val('');
								getCommunalCat();
								// showHideSubCat('empty');
							} else{ 
								$('#ISSUED_STATE').val("");
	
								$('#FGR_DISTRICT').addClass('hide');
								$('#DISTRICT').val("");
								$("#DISTRICT option").remove();
								$('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
								$('#DISTRICT').removeClass('required');
	
								$('#FGR_TALUK').addClass('hide');
								$("#TALUK").val("");
								$("#TALUK option").remove();
								$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
								$('#TALUK').removeClass('required');
								
								// $('#FGR_STUDENTCATEGORY').addClass('hide');
								$('#STUDENTCATEGORY').val("");
								$("#STUDENTCATEGORY option").remove();
								$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
								// $('#STUDENTCATEGORY').removeClass('required');
	
								$('#FGR_STUDENTSUBCATEGORY').addClass('hide');
								$('#STUDENTSUBCATEGORY').val("");
								$("#STUDENTSUBCATEGORY option").remove();
								$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
								$('#STUDENTSUBCATEGORY').removeClass('required');
	
								$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
								$('#DOC_ISSUE_AUTHORITY').val("");
								$("#DOC_ISSUE_AUTHORITY option").remove();
								$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
								$('#DOC_ISSUE_AUTHORITY').removeClass('required');
	
								$('#FGR_DOC_NO').addClass('hide');
								$('#DOC_NO').val("");
								$('#DOC_NO').removeClass('required');
	
								$('#FGR_DOC_ISSUE_MONTH').addClass('hide');
								$('#DOC_ISSUE_MONTH').val("");
								$('#DOC_ISSUE_MONTH').removeClass('required');
							}
						}
					});
				}else{
					$('#FGR_DISTRICT').removeClass('hide');
					$('#DISTRICT').addClass('required');
					$("#DISTRICT option").remove();
					$('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
	
					$('#FGR_TALUK').removeClass('hide');
					$('#TALUK').addClass('required');
					$("#TALUK option").remove();
					$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
	
					$('#FGR_STUDENTCATEGORY').removeClass('hide');
					$('#STUDENTCATEGORY').addClass('required');
	
					$('#FGR_STUDENTSUBCATEGORY').removeClass('hide');
					$('#STUDENTSUBCATEGORY').addClass('required');				
					$("#STUDENTSUBCATEGORY option").remove();
					$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
	
					$('#FGR_DOC_ISSUE_AUTHORITY').removeClass('hide');
					$('#DOC_ISSUE_AUTHORITY').addClass('required');				
					$("#DOC_ISSUE_AUTHORITY option").remove();
					$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));	
	
					$('#FGR_DOC_NO').removeClass('hide');
					$('#DOC_NO').addClass('required');	
	
					$('#FGR_DOC_ISSUE_MONTH').removeClass('hide');
					$('#DOC_ISSUE_MONTH').addClass('required');	
	
					if(gender == 'male' || gender == 'female'){
						$("#HAS_COMMUNAL_CATEGORY option").remove();
						$('#HAS_COMMUNAL_CATEGORY').append($('<option>', {value: '', text: '-Select-'}));
						$('#HAS_COMMUNAL_CATEGORY').append($('<option>', {value: 101, text: 'Communal Reservation Category'}));							
						$('#HAS_COMMUNAL_CATEGORY').append($('<option>', {value: 8, text: 'Others'}));
						$("#HAS_COMMUNAL_CATEGORY").val(has_communal_category);
						$("#HAS_COMMUNAL_CATEGORY").addClass('required');
					}else if(gender == 'third_gender'){
						$('#FGR_THIRD_GENDER_CAT').addClass('hide');
						$('#THIRD_GENDER_CAT').removeClass('required');
						$('#THIRD_GENDER_CAT').val('');
						$('#THIRD_GENDER_CAT option').remove();
					}
					
					getDistrict("ISSUED_STATE","DISTRICT");
					$('#DISTRICT').val('');
					getCommunalCat();
				}
			}else{
				$('#FGR_DISTRICT').addClass('hide');
				$('#DISTRICT').val("");
				$("#DISTRICT option").remove();
				$('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
				$('#DOC_ISSUE_MONTH').removeClass('required');
	
				$('#FGR_TALUK').addClass('hide');
				$("#TALUK").val("");
				$("#TALUK option").remove();
				$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
				$('#TALUK').removeClass('required');
				
				// $('#FGR_STUDENTCATEGORY').addClass('hide');
				$('#STUDENTCATEGORY').val("");
				$("#STUDENTCATEGORY option").remove();
				$('#STUDENTCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
				// $('#STUDENTCATEGORY').removeClass('required');
	
				$('#FGR_STUDENTSUBCATEGORY').addClass('hide');
				$('#STUDENTSUBCATEGORY').val("");
				$("#STUDENTSUBCATEGORY option").remove();
				$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
				$('#STUDENTSUBCATEGORY').removeClass('required');
	
				$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
				$('#DOC_ISSUE_AUTHORITY').val("");
				$("#DOC_ISSUE_AUTHORITY option").remove();
				$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
				$('#DOC_ISSUE_AUTHORITY').removeClass('required');
	
				$('#FGR_DOC_NO').addClass('hide');
				$('#DOC_NO').val("");
				$('#DOC_NO').removeClass('required');
	
				$('#FGR_DOC_ISSUE_MONTH').addClass('hide');
				$('#DOC_ISSUE_MONTH').val("");
				$('#DOC_ISSUE_MONTH').removeClass('required');
			}
		});
	
		$('#STUDENTCATEGORY').on('change',function(){
			var student_category = $(this).val();					
			var sex = $('#sex').val();
			var third_gender_has_com_certi = $('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').val();
			var third_Gender_doc_issued_by = $('#third_Gender_doc_issued_by').val();
			var ISSUED_STATE = $('#ISSUED_STATE').val();
			var native_district = $('#native_district').val();
			var father_native_district = $('#father_native_district').val();
			var cat= $('#STUDENTCATEGORY option:selected').text();

			if($(this).val() != "" && $(this).val() != "0"){
				if(ISSUED_STATE == '1000'){
					if($(this).val() == '1' || $(this).val() == '2' || $(this).val() == '3'){
						if(native_district != 1000 || father_native_district != 1000){
							showMsgModel(local.confirmation, "You have selected that your Community Certificate has been issued by an authority outside TamilNadu. Your claim that you belong to "+ cat +" shall be accepted only if the fact that your parent's nativity is within TamilNadu and certificate for the same is uploaded/produced whenever called for, with reference to the provisions in GO Ms. No. 25 BC/MBC/Minorities Welfare Department dated 05.06.2002.");
							//
						}
					}else if($(this).val() == '4' || $(this).val() == '5' || $(this).val() == '6' || $(this).val() == '7'){
						if(native_district != 1000 || father_native_district != 1000){
							showMsgModel(local.confirmation, "You have selected that your Community Certificate has been issued by an authority outside TamilNadu. Your claim that you belong to "+ cat +" shall be accepted only if fresh Community Certificate issued by District Revenue Officer TamilNadu is obtained and uploaded/produced whenever called for, with reference to the provisions in GO Ms. No. 25 BC/MBC/Minorities Welfare Department dated 05.06.2002.");
							//hide others details
						}
					}
				}
				
				if(($(this).val() == '4' || $(this).val() == '5' || $(this).val() == '9')){
					//showMsgModel(local.confirmation, local.mbc_court_info);
				}
				
				if(sex != 'third_gender'){
					// if(student_category == '7'){
					// 	$('#FGR_HAS_BCM_BIRTH_CONVERTED').removeClass('hide');
					// 	$('#HAS_BCM_BIRTH_CONVERTED').addClass('required');
					// 	// $('#HAS_BCM_BIRTH_CONVERTED').val('');				
					// }else{
					// 	$('#FGR_HAS_BCM_BIRTH_CONVERTED').addClass('hide');
					// 	$('#HAS_BCM_BIRTH_CONVERTED').removeClass('required');
					// 	$('#HAS_BCM_BIRTH_CONVERTED').val('');
					// }
				}else if(sex == 'third_gender'){
					$('#FGR_THIRD_GENDER_CAT').addClass('hide');
					$('#THIRD_GENDER_CAT').removeClass('required');
					$('#THIRD_GENDER_CAT').val('');									
					$('#THIRD_GENDER_CAT option').remove();
	
					if(student_category != '8'){
						$('#FGR_DISTRICT').removeClass('hide');
						$('#DISTRICT').addClass('required');
						$("#DISTRICT").val('');
						// $("#DISTRICT option").remove();
						// $('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
	
						$('#FGR_TALUK').removeClass('hide');
						$('#TALUK').addClass('required');
						$("#TALUK option").remove();
						$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
	
						$('#FGR_STUDENTSUBCATEGORY').removeClass('hide');
						$('#STUDENTSUBCATEGORY').addClass('required');				
						$("#STUDENTSUBCATEGORY option").remove();
						$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
	
						$('#FGR_DOC_ISSUE_AUTHORITY').removeClass('hide');
						$('#DOC_ISSUE_AUTHORITY').addClass('required');				
						$("#DOC_ISSUE_AUTHORITY option").remove();
						$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));	
	
						$('#FGR_DOC_NO').removeClass('hide');
						$('#DOC_NO').addClass('required');	
	
						$('#FGR_DOC_ISSUE_MONTH').removeClass('hide');
						$('#DOC_ISSUE_MONTH').addClass('required');	
					}
					// || student_category == '4' 
					if(third_gender_has_com_certi == '101' && (student_category == '1' || student_category == '2' || student_category == '5')){
						showMsgModel(local.confirmation, 'He/she shall have to produce /upload community certificate as and when required by the Commission.');
					}else if(third_gender_has_com_certi == '101' && (student_category == '6' || student_category == '7') && third_Gender_doc_issued_by == '101'){		
						bootbox.alert({
							message: 'He/she has the right to choose either BC/BCM or MBC whichever the candidate feels is advandageous to himself/herself',
							callback: function (result) {
								bootbox.confirm({
									message: 'Do you still want to be considered under BC/BCM ?',
									buttons: {
										confirm: {
											label: local.yes,
											className: 'btn-success'
										},
										cancel: {
											label: local.no,
											className: 'btn-danger'
										}
									},
									callback: function (result) {
										if(result==true){
											// showMsgModel(local.confirmation, 'he shall be considered as BC/BCM');
											//set third_gender_cat option BC/BCM
											$('#FGR_THIRD_GENDER_CAT').removeClass('hide');
											$('#THIRD_GENDER_CAT').addClass('required');	
											$("#THIRD_GENDER_CAT option").remove();
											if(student_category == 6){
												// $("#THIRD_GENDER_CAT option").remove();
												$('#THIRD_GENDER_CAT').append($('<option>', {value: '', text: '-Select-'}));
												$('#THIRD_GENDER_CAT').append($('<option>', {value: 1, text: 'BACKWARD CLASS'}));										
											}else if(student_category == 7){										
												// $("#THIRD_GENDER_CAT option").remove();
												$('#THIRD_GENDER_CAT').append($('<option>', {value: '', text: '-Select-'}));
												$('#THIRD_GENDER_CAT').append($('<option>', {value: 2, text: 'BACKWARD CLASS MUSLIM'}));	
											}
										}else{
											// showMsgModel(local.confirmation, 'he shall be considered under MBC category');
											$('#FGR_THIRD_GENDER_CAT').removeClass('hide');
											$('#THIRD_GENDER_CAT').addClass('required');
											$('#THIRD_GENDER_CAT option').remove();
											//set third_gender_cat option MBC
											$('#THIRD_GENDER_CAT').append($('<option>', {value: '', text: '-Select-'}));
											$('#THIRD_GENDER_CAT').append($('<option>', {value: 3, text: 'MOST BACKWARD CLASS'}));
										}
									}
								});
							}
						});
					}else if(student_category == '8'){
						$('#FGR_DISTRICT').addClass('hide');
						$('#DISTRICT').val("");
						$("#DISTRICT option").remove();
						$('#DISTRICT').append($('<option>', {value: '', text: '-Select-'}));
						$('#DISTRICT').removeClass('required');
	
						$('#FGR_TALUK').addClass('hide');
						$("#TALUK").val("");
						$("#TALUK option").remove();
						$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
						$('#TALUK').removeClass('required');
	
						$('#FGR_STUDENTSUBCATEGORY').addClass('hide');
						$('#STUDENTSUBCATEGORY').val("");
						$("#STUDENTSUBCATEGORY option").remove();
						$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
						$('#STUDENTSUBCATEGORY').removeClass('required');
	
						$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
						$('#DOC_ISSUE_AUTHORITY').val("");
						$("#DOC_ISSUE_AUTHORITY option").remove();
						$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
						$('#DOC_ISSUE_AUTHORITY').removeClass('required');
	
						$('#FGR_DOC_NO').addClass('hide');
						$('#DOC_NO').val("");
						$('#DOC_NO').removeClass('required');
	
						$('#FGR_DOC_ISSUE_MONTH').addClass('hide');
						$('#DOC_ISSUE_MONTH').val("");
						$('#DOC_ISSUE_MONTH').removeClass('required');
	
						if(third_gender_has_com_certi == '101' && third_Gender_doc_issued_by == '101'){
							$('#FGR_THIRD_GENDER_CAT').removeClass('hide');
							$('#THIRD_GENDER_CAT').addClass('required');
							$('#THIRD_GENDER_CAT').val('');									
							$('#THIRD_GENDER_CAT option').remove();
							//set third_gender_cat option MBC/Others
							$('#THIRD_GENDER_CAT').append($('<option>', {value: '', text: '-Select-'}));
							$('#THIRD_GENDER_CAT').append($('<option>', {value: 3, text: 'MOST BACKWARD CLASS'}));
							$('#THIRD_GENDER_CAT').append($('<option>', {value: 4, text: 'OTHERS'}));
						}
					}
				}
				if($(this).val() != "8"){
					getSubCat();
				}
			}else{
				$("#STUDENTSUBCATEGORY option").remove();
				$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
	
				$("#DOC_ISSUE_AUTHORITY option").remove();
				$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
			}
		});
	
		$('#STUDENTSUBCATEGORY').on('change',function(){
			if($(this).val() != "" && $(this).val() != "0"){			
				getIssueAuthority();
			}else{			
				$("#DOC_ISSUE_AUTHORITY option").remove();
				$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
			}
		});
	
		$('#HAS_BCM_BIRTH_CONVERTED').on('change',function(){
			var bcm_cat = $(this).val();
			var sex = $('#sex').val();
	
			if(sex != 'third_gender' && bcm_cat == 102){
				// showMsgModel(local.confirmation, "shall be considered as others and not as BCM as per Govt. letter.");
				showMsgModel(local.confirmation, 'You shall be considered as "OTHERS" as per Govt. letter No. 11373,09-2, Date: 22-08-2012');
				//change option in student category only others
				// $('#STUDENTCATEGORY').html("<option value='8'>Others</option>");
				// showHideSubCat('hide');
				// $("#STUDENTCATEGORY").val(8).trigger("change");
			}else if(sex != 'third_gender' && bcm_cat == 101){			
				//change option in student category only BCM
				// $('#STUDENTCATEGORY').html("<option value='7'>Backward Class-Muslim(BCM)</option>");
				// $("#STUDENTCATEGORY").val(7).trigger("change");
			}
			resetCommunalCat();	
			setCommunalCat();
		});
	
		$('#PARENTCATEGORY').on('change',function(){
			var student_category = $(this).val();		
			var parent_category = $('#PARENTCATEGORY').val();		
			var sex = $('#sex').val();		
	
			if(sex != 'third_gender'){
				if(student_category != '' && parent_category != ''){
					showMsgModel(local.confirmation, 'Parent Category & your Category doesn\'t match. Please Confirm.');
				}
			}
		});
	
		$("#DISTRICT").on('change',function(){
			var DISTRICT = $('#DISTRICT').val();
			if(DISTRICT != '' && DISTRICT != 0){
				$('#FGR_TALUK').removeClass('hide');
				$("#TALUK").addClass('required');
	
				getTaluk();
				getIssueAuthority();
			}else{			
				$("#TALUK option").remove();
				$('#TALUK').append($('<option>', {value: '', text: '-Select-'}));
			}
		});
	
		$("#FATHER_NATIVE_DISTRICT1").on('change', function(){
			if($(this).val() !="" && $(this).val() !=0){			
				if($(this).val()=='1000'){
					bootbox.confirm({
						message: local.other_com,
						buttons: {
							confirm: {
								label: local.yes,
								className: 'btn-success'
							},
							cancel: {
								label: local.no,
								className: 'btn-danger'
							}
						},
						callback: function (result) {
							if(result==true){														
								$('#STUDENTCATEGORY').html('<option>--select--</option><option value="8">Others</option>');							
							}
						}
					});
				}
			}
		});

		$('#studentnationality').on('change',function(){
			// resetCommunalCat();	
			// setCommunalCat();
		});

		$('#studentnationality_other').on('change',function(){
			// if($(this).val() == '13'){
				// resetCommunalCat();	
				// setCommunalCat();
			// }
		});
	
		resetCommunalCat = function(){
			var gender = $('#sex').val();
	
			if(gender == 'male' || gender == 'female'){
				$('#FGR_THIRD_GENDER_COMMUNITY_MSG').addClass('hide');
	
				$('#FGR_THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').addClass('hide');
				$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').removeClass('required');
				$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').val('');
				$("#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE option").remove();
	
				$('#FGR_HAS_COMMUNAL_CATEGORY').removeClass('hide');
				$('#HAS_COMMUNAL_CATEGORY').addClass('required');
				
			}else if(gender == 'third_gender'){
				$('#FGR_THIRD_GENDER_COMMUNITY_MSG').removeClass('hide');
	
				$('#FGR_THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').removeClass('hide');
				$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').addClass('required');	
				
				$('#FGR_HAS_COMMUNAL_CATEGORY').addClass('hide');
				$('#HAS_COMMUNAL_CATEGORY').removeClass('required');
				$('#HAS_COMMUNAL_CATEGORY').val('');
				$("#HAS_COMMUNAL_CATEGORY option").remove();
			}else{
				$('#FGR_THIRD_GENDER_COMMUNITY_MSG').addClass('hide');
	
				$('#FGR_THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').addClass('hide');
				$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').removeClass('required');
				$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').val('');
				$("#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE option").remove();
				$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '', text: '-Select-'}));
	
				$('#FGR_HAS_COMMUNAL_CATEGORY').removeClass('hide');
				$('#HAS_COMMUNAL_CATEGORY').addClass('required');
				$("#HAS_COMMUNAL_CATEGORY option").remove();
				$('#HAS_COMMUNAL_CATEGORY').append($('<option>', {value: '', text: '-Select-'}));
			}
	
			$('#HAS_COMMUNAL_CATEGORY').val('');
			$("#HAS_COMMUNAL_CATEGORY option").remove();
			$('#HAS_COMMUNAL_CATEGORY').append($('<option>', {value: '', text: '-Select-'}));
	
			$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').val('');
			$("#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE option").remove();
			$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '', text: '-Select-'}));
	
			$('#FGR_STUDENTCATEGORY').addClass('hide');
			$('#STUDENTCATEGORY').removeClass('required');
			$('#STUDENTCATEGORY').val('');
			$("#STUDENTCATEGORY option").remove();
	
			// $('#FGR_HAS_BCM_BIRTH_CONVERTED').addClass('hide');
			// $('#HAS_BCM_BIRTH_CONVERTED').removeClass('required');
			// $('#HAS_BCM_BIRTH_CONVERTED').val('');
	
			$('#FGR_STUDENTSUBCATEGORY').addClass('hide');
			$('#STUDENTSUBCATEGORY').removeClass('required');
			$('#STUDENTSUBCATEGORY').val('');
			$("#STUDENTSUBCATEGORY option").remove();
	
			$('#FGR_ISSUED_STATE').addClass('hide');
			$('#ISSUED_STATE').removeClass('required');
			$('#ISSUED_STATE').val('');
	
			$('#FGR_DISTRICT').addClass('hide');
			$('#DISTRICT').removeClass('required');
			$('#DISTRICT').val('');
			$("#DISTRICT option").remove();
	
			$('#FGR_TALUK').addClass('hide');
			$('#TALUK').removeClass('required');
			$('#TALUK').val('');
			$("#TALUK option").remove();
	
			$('#FGR_DOC_ISSUE_AUTHORITY').addClass('hide');
			$('#DOC_ISSUE_AUTHORITY').removeClass('required');
			$('#DOC_ISSUE_AUTHORITY').val('');
			$("#DOC_ISSUE_AUTHORITY option").remove();
	
			$('#FGR_DOC_NO').addClass('hide');
			$('#DOC_NO').removeClass('required');
			$('#DOC_NO').val('');
	
			$('#FGR_DOC_ISSUE_MONTH').addClass('hide');
			$('#DOC_ISSUE_MONTH').removeClass('required');
			$('#DOC_ISSUE_MONTH').val('');
	
			$('#FGR_THIRD_GENDER_CAT').addClass('hide');
			$('#THIRD_GENDER_CAT').removeClass('required');
			$('#THIRD_GENDER_CAT').val('');
			$("#THIRD_GENDER_CAT option").remove();
		}
	
		setCommunalCat = function(){
			var gender = $('#sex').val();
			var student_religion = $("#student_religion").val();
			var third_Gender_doc_issued_by = $('#third_Gender_doc_issued_by').val();
			var father_native_district = $('#father_native_district').val();
			var father_place_birth = $('#father_place_birth').val();
			var candidate_birth_place = $('#birth_place').val();
			var candidate_native_district = $('#native_district').val();
			// var has_bcm_birth_converted = $('#HAS_BCM_BIRTH_CONVERTED').val();
			var has_bcm_birth_converted = '101';
	
			if(gender=="male" || gender=="female"){
				if(student_religion == 2){
					if(candidate_birth_place != '' && candidate_native_district != '' && father_place_birth != '' && father_native_district != '' && sex != '' && student_religion != '' && has_bcm_birth_converted != ''){
						getBaseCommunalCat();
					} 
				}else{
					if(candidate_birth_place != '' && candidate_native_district != '' && father_place_birth != '' && father_native_district != '' && sex != '' && student_religion != ''){
						getBaseCommunalCat();
					}    
				}
			}else if(gender=="third_gender"){			
				if(third_Gender_doc_issued_by == 101)
				{
					$("#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE option").remove();
					$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '', text: '-Select-'}));
					$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '101', text: 'Yes (As per Document)'}));
					$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '102', text: 'No'}));
				}else if(third_Gender_doc_issued_by == 102){			
					// if(candidate_birth_place == '1000' && candidate_native_district == '1000' && father_place_birth == '1000' && father_native_district == '1000' ){
					// 	$("#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE option").remove();
					// 	$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '', text: '-Select-'}));				
					// 	$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '1000', text: 'Others'}));
					// }else{
						$("#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE option").remove();
						$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '', text: '-Select-'}));
						$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '101', text: 'Yes (As per Document)'}));
						$('#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE').append($('<option>', {value: '102', text: 'No'}));				
					// }
				}
			}
		};
	
		othercastcheck = function()
		{
			var sex=$('#sex').val();
			var birth_place=$('#birth_place').val();
			var native_district=$('#native_district').val();
			var father_place_birth=$('#father_place_birth').val();
			var father_native_district=$('#father_native_district').val();
			var third_Gender_doc_issued_by = $('#third_Gender_doc_issued_by').val();	
			var dg = $('#dg').val();
	
			if(sex == 'male' || sex == 'female'){
				if(birth_place == 1000 && native_district == 1000 && father_place_birth == 1000 && father_native_district == 1000)
				{
					showMsgModel(local.warning,local.othercast);
				}
			}else if(sex == 'third_gender'){
				if(third_Gender_doc_issued_by == 102){
					if(birth_place == 1000 && native_district == 1000 && father_place_birth == 1000 && father_native_district == 1000)
					{
						// showMsgModel(local.warning,local.othercast);
						showMsgModel(local.warning,local.third_gender_id_card_issued_by_msg);
					}else{
						showMsgModel(local.warning, 'You have to obtain ID card from TamilNadu Transgender Welfare Board and upload/produce the same whenever called for, failing which your candidature will be rejected.');
					}
				}
			}else{
				if(birth_place == 1000 && native_district == 1000 && father_place_birth == 1000 && father_native_district == 1000)
				{
					showMsgModel(local.warning,local.othercast);			
				}
			}
						
			if(birth_place == 1000 && native_district == 1000 && father_place_birth == 1000 && father_native_district == 1000)
			{
				$('#dg').val('1');
			}else if(birth_place != '' && native_district != '' && father_place_birth != '' && father_native_district != ''){
				$('#dg').val('2');
			}
			
			if(dg != $('#dg').val()){
				resetCommunalCat();
				setCommunalCat();
			}
		}
			
		/*For SSLC alert*/
		$("#EDU_DOC_NO,#EDU_BOARD,#EDU_MONTH_YEAR,#EDU_MONTH,#EDU_REGISTRATION_NO").on('click', function(){
			var check = $('#SSLC_check').val();
			if(check == ""){
				$('#SSLC_check').val(1);
				showMsgModel(local.warning,local.sslc_warning);
			}
		});	
		/*For SSLC end*/
	
		$('#sslc_dob').datepicker().on('change', function(){
			var target = $('#sslc_dob').val();
			var match_target = $('#c_userdob').val();
			$('.datepicker').hide();
			if($(this).val() != "" && $(this).val() != 0){
				if(target != match_target){
					// alert('The Data Selected against "Date of Birth" field does not match with the data available in One Time Registration(OTR). Please check and enter correct data or edit in OTR.');
					showMsgModel(local.warning, 'The Data Selected against "Date of Birth" field does not match with the data available in One Time Registration(OTR). Please check and enter correct data or edit in OTR.');
					$(this).val('');
				}
			} 
		});
		
		$('#my-application').cardtable();
		$('.stackable').cardtable();
		document.onkeydown = function(e) {
			if (e.ctrlKey &&
			(e.keyCode === 85 || e.keyCode === 80 )) {
				return false;
			}
		};
	
		/*disable right click, cut, copy paste*/
		$('body').bind('cut copy paste', function (e) {
			e.preventDefault();
		});
	
		$("body").on("contextmenu",function(e){
			return false;
		});
	
		$(document).keyup(function(evtobj) {
			if (!(evtobj.altKey || evtobj.ctrlKey || evtobj.shiftKey)){
				if (evtobj.keyCode == 17) {
					return false;
				}
			}
		});
	
		/* to block other language input except english START*/
		$("#loginid").on('input', function(event) {
			var regexp = /[^a-zA-Z0-9]/g;
			if($(this).val().match(regexp)){
				$(this).val( $(this).val().replace(regexp,'') );
			}
		});
	
		$("form input[type=email]").on('input', function(event) {
			var regexp = /[^a-zA-Z 0-9@._()-]/g;
			if($(this).val().match(regexp)){
				$(this).val( $(this).val().replace(regexp,'') );
			}
		});
	
		$("form input[type=password]").on('input', function(event) {
			var regexp = /[^a-zA-Z 0-9!@#$%^&*()]/g;
			if($(this).val().match(regexp)){
				$(this).val( $(this).val().replace(regexp,'') );
			}
		});
		/* to block other language input except english END*/
	
		$("#STUDENT_COMMUNICATION_STATE").on('change', function(){
			if($(this).val()=='S027'){
				$('#com_other_state').removeClass("hide");
			}else{
				$('#com_other_state').addClass("hide");
			}
			$('#STUDENT_COMMUNICATION_OTHER').val("");
		});
	
		$("#STUDENT_PARMANENT_STATE").on('change', function(){
			if($(this).val()=='S027'){
				$('#per_other_state').removeClass("hide");
			}else{
				$('#per_other_state').addClass("hide");
			}
			$('#STUDENT_PARMANENT_OTHER').val("");
		});
	
		if($('#noPermision').val()!=""){
			$.notify({
				title: 'Warning',
				message: $('#noPermision').val()
			},{
				type: 'pastel-warning',
				delay: 7000,
				template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert">' +
				'<span data-notify="title">{1}</span>' +
				'<span data-notify="message">{2}</span>' +
				'</div>'
			});
		}
	
		$("input , textarea, select").blur(function() {
			if($(this).val() !="") {
				$('#' + $(this).attr('id')).parent('div').find('p').html("");
				$('#' + $(this).attr('id')).parent('div').removeClass('has-error');
				$('#' + $(this).attr('id')).parent('td').removeClass('has-error');
				$('#' + $(this).attr('id')).parent('span').removeClass('has-error');
				$('#' + $(this).attr('id')).parent('div').addClass('has-success');
				$('#' + $(this).attr('id')).parent('td').addClass('has-success');
				$('#' + $(this).attr('id')).parent('span').addClass('has-success');
				$('span[id^='+$(this).attr('id') +']').addClass('hide');
				$('span[id^='+ $(this).attr('id') +']').css("opacity", "0");
				$('div[id^='+ $(this).attr('id') +']').addClass('has-sucess');
				$('div[id^='+ $(this).attr('id') +']').removeClass('has-error');
				$('#' + $(this).attr('id')).parent('label').parent().removeClass('has-error');
				if ($(this).prop('type') == 'email'){
					if(!isEmail($(this).val())){
						$('#' + $(this).attr('id')).parent('div').removeClass('has-success');
						$('#' + $(this).attr('id')).parent('div').addClass('has-error');
						$('span[id^='+ $(this).attr('id') +']').css("opacity", "100");
						$('span[id^='+ $(this).attr('id') +']').html('Invalid Email Format');
						$('span[id^='+$(this).attr('id') +']').removeClass('hide');
					}
				}
			}else{
				if($('#' + $(this).attr('id')).hasClass('required')){
					$('#' + $(this).attr('id')).parent('div').removeClass('has-success');
					$('#' + $(this).attr('id')).parent('div').addClass('has-error');
					$('#' + $(this).attr('id')).parent('td').removeClass('has-success');
					$('#' + $(this).attr('id')).parent('td').addClass('has-error');
					$('#' + $(this).attr('id')).parent('span').removeClass('has-success');
					$('#' + $(this).attr('id')).parent('span').addClass('has-error');
					$('span[id^='+$(this).attr('id') +']').removeClass('hide');
					$('span[id^='+ $(this).attr('id') +']').css("opacity", "100");
					$('span[id^='+ $(this).attr('id') +']').html($(this).prop('placeholder')+' Must Required');
					$('div[id^='+ $(this).attr('id') +']').addClass('has-error');
					$('div[id^='+ $(this).attr('id') +']').removeClass('has-success');
					// $('#' + $(this).attr('id')).parent('label').parent().addClass('has-error');
				}
			}
		});

		$("input").change(function() {
			if ($(this).hasClass('hasDatepicker')) {							
				if($(this).val() !="") {
					$('#' + $(this).attr('id')).parent('div').find('p').html("");
					$('#' + $(this).attr('id')).parent('div').removeClass('has-error');
					$('#' + $(this).attr('id')).parent('td').removeClass('has-error');
					$('#' + $(this).attr('id')).parent('span').removeClass('has-error');
					$('#' + $(this).attr('id')).parent('div').addClass('has-success');
					$('#' + $(this).attr('id')).parent('td').addClass('has-success');
					$('#' + $(this).attr('id')).parent('span').addClass('has-success');
					$('span[id^='+$(this).attr('id') +']').addClass('hide');
					$('span[id^='+ $(this).attr('id') +']').css("opacity", "0");
					$('div[id^='+ $(this).attr('id') +']').addClass('has-sucess');
					$('div[id^='+ $(this).attr('id') +']').removeClass('has-error');
				}else{
					if($('#' + $(this).attr('id')).hasClass('required')){
						$('#' + $(this).attr('id')).parent('div').removeClass('has-success');
						$('#' + $(this).attr('id')).parent('div').addClass('has-error');
						$('#' + $(this).attr('id')).parent('td').removeClass('has-success');
						$('#' + $(this).attr('id')).parent('td').addClass('has-error');
						$('#' + $(this).attr('id')).parent('span').removeClass('has-success');
						$('#' + $(this).attr('id')).parent('span').addClass('has-error');
						$('span[id^='+$(this).attr('id') +']').removeClass('hide');
						$('span[id^='+ $(this).attr('id') +']').css("opacity", "100");
						$('span[id^='+ $(this).attr('id') +']').html($(this).prop('placeholder')+' Must Required');
						$('div[id^='+ $(this).attr('id') +']').addClass('has-error');
						$('div[id^='+ $(this).attr('id') +']').removeClass('has-success');
					}
				}
			}
		});
	
		/* academic subjectwise mark calculation*/
		$('input[id^="subobtainMarks_"]').blur(function() {
			/*if($(this).val() !="" || $(this).val() !=0){ */
			var myarr = $(this).attr('id').split("_");
			console.log(myarr);
	
			if($('#subtotalMark_'+myarr[1]+'_'+myarr[2]).val() !=""){
				if(parseInt($(this).val()) > parseInt($('#subtotalMark_'+myarr[1]+'_'+myarr[2]).val())){
					$('#errorModelLabel').html('<span>Warning</span>');
					$('#errorModelMsg').html(' Marks Obtain should Not be More Than Total Mark');
					$('#errorModel').modal('show');
					$(this).val("");
					$('#subtotalMark_'+myarr[1]+'_'+myarr[2]).val("");
				}
			}else{
				$('#MARKSPER'+myarr[1]).val("");
			}
			var markObtain = 0;
			var markTotal=0;
			for(var i = 0; i < $( "input[id^='subobtainMarks_"+myarr[1]+"']" ).length; ++i){
				var rr=$( "input[id^='subobtainMarks_"+myarr[1]+"']" )[i].value;
				if(rr ==""){rr=0;}
				markObtain += parseInt(rr);
			}
			for(var i = 0; i < $( "input[id^='subtotalMark_"+myarr[1]+"']" ).length; ++i){
				var rr=$( "input[id^='subtotalMark_"+myarr[1]+"']" )[i].value;
				if(rr ==""){rr=0;}
				markTotal += parseInt(rr);
			}
			$('#MARKS'+myarr[1]).val(markObtain);
			$('#MARKSTOTAL'+myarr[1]).val(markTotal);
			var devider = (parseInt(markObtain ) /parseInt( markTotal))*100;
			$('#MARKSPER'+myarr[1]).val(Math.round(devider*100)/100);
			getWeightageValue(myarr[1]);
			console.log(markObtain);console.log(markTotal);
			/*}*/
		});
	
		$('input[id^="subtotalMark_"]').blur(function() {
			/* if($(this).val() !="" || $(this).val() !=0){ */
			var myarr = $(this).attr('id').split("_");
			console.log(myarr);
			if($('#subobtainMarks_'+myarr[1]+'_'+myarr[2]).val() !=""){
				if(parseInt($(this).val()) < parseInt($('#subobtainMarks_'+myarr[1]+'_'+myarr[2]).val())){
					$('#errorModelLabel').html('<span>Warning</span>');
					$('#errorModelMsg').html(' Marks Obtain should Not be More Than Total Mark');
					$('#errorModel').modal('show');
					$(this).val("");
					$('#subobtainMarks_'+myarr[1]+'_'+myarr[2]).val("");
				}
			}else{
				$('#MARKSPER'+myarr[1]).val("");
			}
			var markObtain = 0;
			var markTotal=0;
			for(var i = 0; i < $( "input[id^='subobtainMarks_"+myarr[1]+"']" ).length; ++i){
				var rr=$( "input[id^='subobtainMarks_"+myarr[1]+"']" )[i].value;
				if(rr ==""){rr=0;}
				markObtain += parseInt(rr);
			}
			for(var i = 0; i < $( "input[id^='subtotalMark_"+myarr[1]+"']" ).length; ++i){
				var rr=$( "input[id^='subtotalMark_"+myarr[1]+"']" )[i].value;
				if(rr ==""){rr=0;}
				markTotal += parseInt(rr);
			}
			$('#MARKS'+myarr[1]).val(markObtain);
			$('#MARKSTOTAL'+myarr[1]).val(markTotal);
	
			var devider = (parseFloat(markObtain ) /parseFloat( markTotal))*100;
			if(isNaN(devider)){
				devider=0;
			}
	
			$('#MARKSPER'+myarr[1]).val(Math.round(devider*100)/100);
			getWeightageValue(myarr[1]);
			console.log(markObtain);console.log(markTotal);
			/*}*/
		});
	
		$('input[id^="yearSemMarks_"]').blur(function() {
			/*if($(this).val() !="" || $(this).val() !=0){*/
			var myarr = $(this).attr('id').split("_");
			console.log(myarr);
			if($('#yearSemtotalMark_'+myarr[1]+'_'+myarr[2]).val() !=""){
				if(parseInt($(this).val()) > parseInt($('#yearSemtotalMark_'+myarr[1]+'_'+myarr[2]).val())){
					$('#errorModelLabel').html('<span>Warning</span>');
					$('#errorModelMsg').html(' Marks Obtain should Not be More Than Total Mark');
					$('#errorModel').modal('show');
					$(this).val("");
					$('#yearSemtotalMark_'+myarr[1]+'_'+myarr[2]).val("");
				}
			}else{
				$('#MARKSPER'+myarr[1]).val("");
			}
			var markObtain = 0;
			var markTotal=0;
			for(var i = 0; i < $( "input[id^='yearSemMarks_"+myarr[1]+"']" ).length; ++i){
				var rr=$( "input[id^='yearSemMarks_"+myarr[1]+"']" )[i].value;
				if(rr ==""){rr=0;}
				markObtain += parseInt(rr);
			}
			for(var i = 0; i < $( "input[id^='yearSemtotalMark_"+myarr[1]+"']" ).length; ++i){
				var rr=$( "input[id^='yearSemtotalMark_"+myarr[1]+"']" )[i].value;
				if(rr ==""){rr=0;}
				markTotal += parseInt(rr);
			}
			$('#MARKS'+myarr[1]).val(markObtain);
			$('#MARKSTOTAL'+myarr[1]).val(markTotal);
			var devider = (parseFloat(markObtain ) /parseFloat( markTotal))*100;
			if(isNaN(devider)){
				devider=0;
			}
			$('#MARKSPER'+myarr[1]).val(Math.round(devider*100)/100);
			getWeightageValue(myarr[1]);
			console.log(markObtain);console.log(markTotal);
			/*}*/
		});
	
		$('input[id^="yearSemtotalMark_"]').blur(function() {
			var myarr = $(this).attr('id').split("_");
			console.log(myarr);
			if($('#yearSemMarks_'+myarr[1]+'_'+myarr[2]).val() !=""){
				if(parseInt($(this).val()) < parseInt($('#yearSemMarks_'+myarr[1]+'_'+myarr[2]).val())){
					$('#errorModelLabel').html('<span>Warning</span>');
					$('#errorModelMsg').html(' Marks Obtain should Not be More Than Total Mark');
					$('#errorModel').modal('show');
					$(this).val("");
					$('#yearSemMarks_'+myarr[1]+'_'+myarr[2]).val("");
				}
			}else{
				$('#MARKSPER'+myarr[1]).val("");
			}
			var markObtain = 0;
			var markTotal=0;
			for(var i = 0; i < $( "input[id^='yearSemMarks_"+myarr[1]+"']" ).length; ++i){
				var rr=$( "input[id^='yearSemMarks_"+myarr[1]+"']" )[i].value;
				if(rr ==""){rr=0;}
				markObtain += parseInt(rr);
			}
			for(var i = 0; i < $( "input[id^='yearSemtotalMark_"+myarr[1]+"']" ).length; ++i){
				var rr=$( "input[id^='yearSemtotalMark_"+myarr[1]+"']" )[i].value;
				if(rr ==""){rr=0;}
				markTotal += parseInt(rr);
			}
			$('#MARKS'+myarr[1]).val(markObtain);
			$('#MARKSTOTAL'+myarr[1]).val(markTotal);
			var devider = (parseInt(markObtain ) /parseInt( markTotal))*100;
			$('#MARKSPER'+myarr[1]).val(Math.round(devider*100)/100);
			getWeightageValue(myarr[1]);
			console.log(markObtain);console.log(markTotal);
		});
	
		$('select[id^="YEAR_SEM"]').on('change', function(){
			id=$(this).attr('id').slice(8);
			console.log($(this).attr('id'));  console.log(id);
			if($(this).val()=="Semester Wise Course"){
				$('#divSemesterUG'+id).show();
				$('#yearSemtotalMark_'+id+'_4,#yearSemtotalMark_'+id+'_3').parent('td').parent('tr').show();
				$('.ys'+id).html("semesters");
				$('#NO_OF_SEM_'+id).val("4");
				$('input[id^="yearSemtotalMark_'+id+'"]').blur();
				$('input[id^="yearSemMarks_'+id+'"]').blur();
			}else{
				$('.ys'+id).html("Year");
				$('input[id^="yearSemtotalMark_'+id+'"]').parent('td').parent('tr').show();
				$('#yearSemtotalMark_'+id+'_4').parent('td').parent('tr').hide();
				$('#YEARSEMROLL_'+id+'_4,#yearSemMarks_'+id+'_4,#yearSemtotalMark_'+id+'_4').val("");
				var vv = $('#view'+id).val();
				for(var i = vv; i < 11; ++i){
					$('#YEARSEMROLL_'+id+'_'+i+',#yearSemMarks_'+id+'_'+i+',#yearSemtotalMark_'+id+'_'+i+',#YEARSEMROLL_'+id+'_'+i).val("");
					$('#yearSemtotalMark_'+id+'_'+i).parent('td').parent('tr').hide();
				}
				$('input[id^="yearSemtotalMark_'+id+'"]').blur();
				$('input[id^="yearSemMarks_'+id+'"]').blur();
				$('#divSemesterUG'+id).hide();
			}
		});
	
		$('select[id^="NO_OF_SEM_"]').on('change', function(){
			id=$(this).attr('id').slice(10);
			console.log($(this).attr('id'));  console.log(id);
			var noSem= $(this).val();
			++noSem;
			for(var i = 1; i < 11; ++i){
				$('#yearSemtotalMark_'+id+'_'+i).parent('td').parent('tr').hide();
			}
			for(var i = 1; i < noSem; ++i){
				$('#yearSemtotalMark_'+id+'_'+i).parent('td').parent('tr').show();
			}
			for(var i = noSem;  i < 11; ++i){
				$('#YEARSEMROLL_'+id+'_'+i+',#yearSemMarks_'+id+'_'+i+',#yearSemtotalMark_'+id+'_'+i+',#YEARSEMROLL_'+id+'_'+i).val("");
			}
			$('input[id^="yearSemtotalMark_'+id+'"]').blur();
			$('input[id^="yearSemMarks_'+id+'"]').blur();
		});
		/* academic subject calculation END*/
	
	
	
		/* Experience Details */
		$("#TEACHING_EXP").change(function (e) {
			var texp = $("#TEACHING_EXP").val();
			if(texp=='Yes'){
				$("#div_lvl").show();
			} else if(texp=='No'){
				$("#div_lvl").hide();
			}
		});
	
	
		$("input[id^='DocumentUp']").on('change', function(){
			if ((file = this.files[0])) {
				id= $(this).attr('id').substring(10);
				img = new Image();
				var sizeKB = file.size;
				var ext = file.name.split('.').pop().toLowerCase();
				var extcate = ["jpg", "png", "bmp", "jpeg", "JPG", "PNG", "BMP", "JPEG",'pdf','PDF'];
				var found = $.inArray(ext, extcate);
				if (found == -1) {
					$(this).val('') ;
					$('#errorModelLabel').html('<span>Error</span>');
					$('#errorModelMsg').html('Only These Image Formats Are Allowed (jpeg,jpg,bmp,pdf)');
					$('#errorModel').modal('show');
					}else if (found != -1) {
					if(sizeKB > $('#MAX_FILE_SIZE'+id).val()){
						$('imageExceded').val("y");
						vv= "'"+$(this).attr('id')+"'";
						$('#errorModelLabel').html('<span>Warning</span>');
						var msg='Your Upload File is more than 200KB . Do you want to add another file Click here <a onClick="newImageUploadSelected('+vv+')" href="javascript:void(0)" class="btn btn-success">Yes</a> <br>';
						if(ext.toUpperCase()!='PDF' && ext!="pdf"){
							msg +='<br>Or For Auto Resize Press here <a onClick="newImageUploadContinue('+id+')" href="javascript:void(0)" class="btn btn-warning">Continue</a>  <br><br><div class="alert alert-warning">Auto Resize May Affect Your Document. </div>';
						}
						$('#errorModelMsg').html(msg);
						$('#errorModel').modal('show');
					}
				}
				/*img.src = _URL.createObjectURL(file);*/
			}
	
		});
	
		/*for all date input*/
		createDate();
		/* Sortable */
	
		$( "#centres" ).sortable();
		$('#centres').sortable({
			axis: 'y',
			update: function (event, ui) {
				var data = $(this).sortable("serialize");
				var app_id = getParam("app_id");
				var sub_id = getParam("sub_id");
				$.ajax({
					data: data,
					type: 'POST',
					url: 'centre_update?app_id='+app_id+"&sub_id="+sub_id,
					success: function(result){
						$("#div1").show();
						$("#div1").html(result);
						$("#div1").fadeOut(2000);
					}
				});
			}
		});
		$( "#collegecampus" ).sortable();
		$('#collegecampus').sortable({
			axis: 'y',
			update: function (event, ui) {
				var data = $(this).sortable("serialize");
				var app_id = getParam("app_id");
				$.ajax({
					data: data,
					type: 'POST',
					url: 'college_selection_update?app_id='+app_id,
					success: function(result){
						$("#div1").show();
						$("#div1").html(result);
						$("#div1").fadeOut(2000);
					}
				});
			}
		});
	
		$('select[id^="TESTCENTER"]').on('change', function(){
			var rr= $(this).val();
			var selectID= $(this).attr('id');
			if(rr !="" || rr != 0){
				centerData = $('#centerD').find("select[id^='TESTCENTER']");
				$(centerData).each(function(index ,i) {
					if(selectID != $(this).attr('id')){
						var id=$(this).attr('id');
						if(rr == $('#'+id).val()){
							$('#errorModelLabel').html('<span>Error</span>');
							$('#errorModelMsg').html('You have already selected this !');
							$('#errorModel').modal('show');
							$("#"+selectID).val("");
						}
					}
				});
			}
		});
	
		$('select[id^="BRANCH"]').on('change', function(){
			var rr= $(this).val();
			var selectID= $(this).attr('id');
			if(rr !="" || rr != 0){
				centerData = $('#branchPreferance').find("select[id^='BRANCH']");
				$(centerData).each(function(index ,i) {
					if(selectID != $(this).attr('id')){
						var id=$(this).attr('id');
						if(rr == $('#'+id).val()){
							$('#errorModelLabel').html('<span>Error</span>');
							$('#errorModelMsg').html('You have already selected this !');
							$('#errorModel').modal('show');
							$("#"+selectID).val("");
						}
					}
				});
			}
		});
	
		$('input[id^="resultAw"]').on('change', function(){
			if($('input[id='+$(this).attr('id')+']:checked').val() == 'y'){
				var selectID= $(this).attr('id');
				centerData = $('form#acdemic_details').find("input[id^='resultAw']");
				$(centerData).each(function(index ,i) {
					if(selectID == $(i).attr('id')){
						var myarr = $(i).attr('id').split("_");
						//$('#UNIVER'+myarr[1]).val("");
						$('#va'+myarr[1]).val('n');
						if(app_id=="PIY0000016"){
							$('#errorModelLabel').html('<span>Warning</span>');
							$('#errorModelMsg').html('Those awaiting final results may enter the total marks obtained uptill the last semester.');
							$('#errorModel').modal('show');
							var val2=false;
							$($('#YEAR'+myarr[1]).find('option')).each(function(index ,i){
								if($(this).val()=="2018") val2=true;
							});
							if(val2==false)
							$('#YEAR'+myarr[1]).append("<option value='2018'>2018</option>");
							$('#YEAR'+myarr[1]).val("2018");
							return false;
						}
						$('#YEAR'+myarr[1]).val("");
						$('#SUBJECT'+myarr[1]).val("");
						$('#DIVISION'+myarr[1]).val("");
						$('#MARKS'+myarr[1]).val("");
						$('#MARKSTOTAL'+myarr[1]).val("");
						$('#MARKSPER'+myarr[1]).val("");
						$('#CGPA'+myarr[1]).val("");
						$('#ROLL'+myarr[1]).val("");
	
						}else{
						var myarr = $(i).attr('id').split("_");
						$('#va'+myarr[1]).val($('#va_2_'+myarr[1]).val());
						$('#'+$(i).attr('id')).prop('checked',false);
						$('#YEAR'+myarr[1]).val("");
						$('#YEAR'+myarr[1]).find('option[value=2018]').remove();
					}
				});
			}else{
				var myarr = $(this).attr('id').split("_");
				$('#va'+myarr[1]).val($('#va_2_'+myarr[1]).val());
				$('#YEAR'+myarr[1]).val("");
				$('#YEAR'+myarr[1]).find('option[value=2018]').remove();
			}
		});
		$('#wrap').removeClass('hide');
		$('.dataBx').removeClass('hide');
	
	
		$("#EXPERIENCE").on('change', function(){
			if($('#FGR_EX_SERVICEMAN_EXP').length && $('#EX_SERVICEMAN_EXP').length){
				if($(this).val()=='101'){
					$('#FGR_EX_SERVICEMAN_EXP').show();
				}else{
					$('#FGR_EX_SERVICEMAN_EXP').hide();
					$('#EX_SERVICEMAN_EXP').val("");
				}
			}
		});
	});
	
	checkResevationQuota= function(domicile,ressubcode){
		STORE_TYPE=domicile;
		var FFFAC = $('#FACULTY_COLLEGE').val();
		var SUBCODE = $('#SUBCODE').val();
		$.get( base_url+"/get_reservation_seat?app_id="+getParam("app_id")+"&STORE_TYPE="+STORE_TYPE+"&FFFAC="+FFFAC+"&PICK_ID="+ressubcode+"&SUBCODE="+SUBCODE, function(data) {
			if(data.status==true){
				$('#STUDENTSUBCATEGORY').html(data.html);
				$('#FGR_STUDENTSUBCATEGORY').show();
			}
			else{
				$('#FGR_STUDENTSUBCATEGORY').hide();
			}
		});
	}
	
	showHideField= function(srcdiv,checkval,trgtdiv){
		var app_id = getParam("app_id");
		var app_id= Base64.decode(app_id);
		var srcval = $('#'+srcdiv).val();
		if(srcval==checkval){
			var trgtval = $('#'+trgtdiv).val();
			$('#FGR_'+trgtdiv).show();
			/* $("#"+trgtdiv).prop('required',true); */
			if(trgtval=="" && app_id=='PIY0000019'){
				$('#'+trgtdiv).val('101');
			}
			}else{
			/* $("#"+trgtdiv).prop('required',false); */
			$('#'+trgtdiv).val('');
			$('#FGR_'+trgtdiv).hide();
		}
	}
	
	/* copy same address */
	copySame = function(){
		if($('#sameAddress').prop('checked')){
			$('#STUDENT_PARMANENT_ADDLINE1').val($('#STUDENT_COMMUNICATION_ADDLINE1').val());
			$('#STUDENT_PARMANENT_ADDLINE2').val($('#STUDENT_COMMUNICATION_ADDLINE2').val());
			$('#STUDENT_PARMANENT_ADDLINE3').val($('#STUDENT_COMMUNICATION_ADDLINE3').val());
			$('#STUDENT_PARMANENT_DISTRICT').val($('#STUDENT_COMMUNICATION_DISTRICT').val());
			$('#STUDENT_PARMANENT_STATE').val($('#STUDENT_COMMUNICATION_STATE').val());
			if($('#STUDENT_COMMUNICATION_STATE').val()=="S027" && $('#STUDENT_COMMUNICATION_OTHER').val()!=""){
				$('#per_other_state').removeClass("hide");
				$('#STUDENT_PARMANENT_OTHER').val($('#STUDENT_COMMUNICATION_OTHER').val());
			}
			$('#STUDENT_PARMANENT_PINCODE').val($('#STUDENT_COMMUNICATION_PINCODE').val());
			$('#STUDENT_PARMANENT_MOBILE').val($('#STUDENT_COMMUNICATION_MOBILE').val());
			$('#STUDENT_PARMANENT_CITY').val($('#STUDENT_COMMUNICATION_CITY').val());
			$('#STUDENT_PARMANENT_POSTOFFICE').val($('#STUDENT_COMMUNICATION_POSTOFFICE').val());
			$('#STUDENT_PARMANENT_LAND_STD_CODE').val($('#STUDENT_COMMUNICATION_LAND_STD_CODE').val());
			$('#STUDENT_PARMANENT_LAND_LINE').val($('#STUDENT_COMMUNICATION_LAND_LINE').val());
		}else{
			$('#STUDENT_PARMANENT_ADDLINE1').val('');
			$('#STUDENT_PARMANENT_ADDLINE2').val('');
			$('#STUDENT_PARMANENT_ADDLINE3').val('');
			$('#STUDENT_PARMANENT_DISTRICT').val('');
			$('#STUDENT_PARMANENT_STATE').val('');
			$('#STUDENT_PARMANENT_PINCODE').val('');
			$('#STUDENT_PARMANENT_MOBILE').val('');
			$('#STUDENT_PARMANENT_CITY').val('');
			$('#STUDENT_PARMANENT_POSTOFFICE').val('');
			$('#STUDENT_PARMANENT_LAND_STD_CODE').val('');
			$('#STUDENT_PARMANENT_LAND_LINE').val('');
			$('#per_other_state').addClass("hide");
			$('#STUDENT_PARMANENT_OTHER').val('');
		}
	}
	
	createDate = function(){
		$("#FROM_DATE").datepicker({
			dateFormat: 'dd-mm-yy',
			changeMonth: true,
			changeYear: true,
			yearRange: "-45:-1",
		});
		$("#TO_DATE").datepicker({
			dateFormat: 'dd-mm-yy',
			changeMonth: true,
			changeYear: true,
			yearRange: "-45:-0",
		});
		$("#DATE_LECTURE").datepicker({
			dateFormat: 'dd-mm-yy',
			changeMonth: true,
			changeYear: true,
			yearRange: "-35:-0",
		});
	
		showMsg = function(typ,msg){
			$.notify({
				title: '<strong>Message !</strong>',
				message: msg
				},{
				type: typ
			});
		}
	
		$('select[id^="YEAR"]').on('change', function(){
			var id=$(this).attr('id');
			getWeightageValue(id.substring(4));
		});
	
		getWeightageValue = function(id){
			if($('#WEIGHTAGE'+id).length){
				$.getScript('../public/js/weightage.js', function(){
					weghtage(id);
				});
			}
	
		}
	}
	
	/*email vaidation*/
	isEmail = function (email) {
		var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
		return regex.test(email);
	}
	
	/* Blank / empty Checking*/
	errorBlock = function(){
		console.log(errorElem);
		$('.has-error').removeClass('has-error');
	
		if(errorElem.length > 0){
			for(var i = 0; i < errorElem.length; i++){
				$('#' + errorElem[i]).parent('div').addClass('has-error');
				$('#' + errorElem[i]).parent('td').addClass('has-error');
				$('#' + errorElem[i]).parent('span').addClass('has-error');
				$('div[id^='+ errorElem[i] +']').addClass('has-error');
				$('#' + errorElem[i]).parent('div').find('p').html("The Above Field is Required.");
				$('#' + errorElem[i]).parent('td').find('span').html("The Above Field is Required.");
				$('#' + errorElem[i]).parent('label').parent().addClass('has-error');
	
			}
			errorElem = [];
	
	
		}
	}
	
	/*for decode / encode */
	var Base64 = {
		_keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
	
		encode: function(input) {
			var output = "";
			var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
			var i = 0;
	
			input = Base64._utf8_encode(input);
	
			while (i < input.length) {
	
				chr1 = input.charCodeAt(i++);
				chr2 = input.charCodeAt(i++);
				chr3 = input.charCodeAt(i++);
	
				enc1 = chr1 >> 2;
				enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
				enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
				enc4 = chr3 & 63;
	
				if (isNaN(chr2)) {
					enc3 = enc4 = 64;
					} else if (isNaN(chr3)) {
					enc4 = 64;
				}
	
				output = output + this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) + this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);
	
			}
	
			return output;
		},
	
	
		decode: function(input) {
			var output = "";
			var chr1, chr2, chr3;
			var enc1, enc2, enc3, enc4;
			var i = 0;
	
			input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
	
			while (i < input.length) {
	
				enc1 = this._keyStr.indexOf(input.charAt(i++));
				enc2 = this._keyStr.indexOf(input.charAt(i++));
				enc3 = this._keyStr.indexOf(input.charAt(i++));
				enc4 = this._keyStr.indexOf(input.charAt(i++));
	
				chr1 = (enc1 << 2) | (enc2 >> 4);
				chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
				chr3 = ((enc3 & 3) << 6) | enc4;
	
				output = output + String.fromCharCode(chr1);
	
				if (enc3 != 64) {
					output = output + String.fromCharCode(chr2);
				}
				if (enc4 != 64) {
					output = output + String.fromCharCode(chr3);
				}
	
			}
	
			output = Base64._utf8_decode(output);
	
			return output;
	
		},
	
		_utf8_encode: function(string) {
			string = string.replace(/\r\n/g, "\n");
			var utftext = "";
	
			for (var n = 0; n < string.length; n++) {
	
				var c = string.charCodeAt(n);
	
				if (c < 128) {
					utftext += String.fromCharCode(c);
				}
				else if ((c > 127) && (c < 2048)) {
					utftext += String.fromCharCode((c >> 6) | 192);
					utftext += String.fromCharCode((c & 63) | 128);
				}
				else {
					utftext += String.fromCharCode((c >> 12) | 224);
					utftext += String.fromCharCode(((c >> 6) & 63) | 128);
					utftext += String.fromCharCode((c & 63) | 128);
				}
	
			}
	
			return utftext;
		},
	
		_utf8_decode: function(utftext) {
			var string = "";
			var i = 0;
			var c = c1 = c2 = 0;
	
			while (i < utftext.length) {
	
				c = utftext.charCodeAt(i);
	
				if (c < 128) {
					string += String.fromCharCode(c);
					i++;
				}
				else if ((c > 191) && (c < 224)) {
					c2 = utftext.charCodeAt(i + 1);
					string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
					i += 2;
				}
				else {
					c2 = utftext.charCodeAt(i + 1);
					c3 = utftext.charCodeAt(i + 2);
					string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
					i += 3;
				}
	
			}
	
			return string;
		}
	
	}/* TO get Url data*/
	
	getParam = function(name)
	{
		name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
		var regexS = "[\\?&]"+name+"=([^&#]*)";
		var regex = new RegExp( regexS );
		var results = regex.exec(window.location.href);
		if(results == null)
		return "";
		else
		return results[1];
	}
	
	CheckAlpha = function(event)
	{
		var keyCode = ('which' in event) ? event.which : event.keyCode;
	
	
		if ((keyCode >= 65 && keyCode <= 90) || (keyCode >= 97 && keyCode <= 122) ||( keyCode == 32 ) || ( keyCode == 46) || ( keyCode == 8) || (keyCode == 96)) {
	
		return true; }
		  else {
			/* alert("Please Enter Only Alphabet"); */
			return false;
			/* event.preventDefault();  */
		}
	}
	
	checkJEEUPDATE= function (){
		if($('#JEE_RANK').val()== ""){
			errorElem.push("JEE_RANK");
		}
		if($('#JEE_SCORE').val()== ""){
			errorElem.push("JEE_SCORE");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('#errorModelLabel').html('<span>Error</span>');
			$('#errorModelMsg').html('Please enter data for required fields!');
			$('#errorModel').modal('show');
			return false;
			}else{
			var rr = confirm('Please Recheck and confirm your details after submisson you will not be able to update this details.');
			if (!rr)
			return false;
		}
	}
	
	cancelAdmmission= function(regIn){
		bootbox.confirm({
			title: "Message!",
			message: "Are You Sure To Cancel Your Previous Admmisson ? ",
			buttons: {
				cancel: {
					label: '<i class="fa fa-times"></i> Cancel'
				},
				confirm: {
					label: '<i class="fa fa-check"></i> OK'
				}
			},
			callback: function (re) {
				if(re==true){
					var app_id = getParam("app_id");
					$.ajax({
						type: "POST",
						url:base_url+"cancel-admmission",
						data: {regIn:regIn,app_id:app_id},
						dataType:'json',
						beforeSend: function(){
							$('#loader').removeClass("hide");
						},
						success:function(data){
							if(data.status == true){
								location.reload();
								}else if (data.status == false) {
								$('#errorModelLabel').html('<span style="color:red">Warning</span>');
								$('#errorModelMsg').html(data.msg);
								$('#errorModel').modal('show');
							}
						},
						error:function(xhr, textStatus, error) {
							$('#loader').addClass('hide');
							$('#errorModelLabel').html('<span style="color:red">'+xhr.statusText+' ( '+xhr.status+' )</span>');
							$('#errorModelMsg').html(xhr.responseText);
							$('#errorModel').modal('show');
						}
					});
	
	
	
				}
			}
		});
	}
	
	checkForMobile=function(){
		if($('#MOBILE').val()==''){
			showMsgModel(local.warning,local.mobile_empty);
			return false;
		}
		if($('#MOBILE').val().indexOf('0')==0){
			showMsgModel(local.warning,local.mobile_verify);
			return false;		
		}
		if($('#MOBILE').val() == $('#OLDMOBILE').val()){
			showMsgModel(local.warning,local.mobile_same_number);
			return false;
		}
		$('#lmobi').html('<img class="ajax_loader" src="images/ajax_loader.gif">');
		$('#lmobi').removeClass('hide');
		bootbox.confirm({
			title: local.otp_header+"!",
			message: local.otp_body+ ": "+$('#MOBILE').val() + " " +local.otp_body_ext,
			buttons: {
				confirm: {
					label: '<i class="fa fa-check"></i> '+local.otp_confirm,
					className: 'btn-success'
				},
				cancel: {
					label: '<i class="fa fa-times"></i> '+local.otp_change,
					className: 'btn-danger'
				}
			},
			callback: function (re) {
				if(re==true){
					/* for showing timer on verify button*/
					var starttime = 120;
					var otptimer = setInterval(function(){
						starttime=starttime-1;
						$("#mvbtn").html(starttime+ local.otp_time);
					}, 1000);
	
					/* for disabeling/enabeling verify button*/
					$("#mvbtn").addClass('disabled');
					setTimeout(function() {
						$("#mvbtn").removeClass('disabled');
						clearInterval(otptimer);
						$("#mvbtn").html(local.resend_otp);
						/*if($('#mv').val()==1){
							$("#mvbtn").html("Verify");
						}*/
					}, 120000);
					var app_id = getParam("app_id");
	
					$.get( base_url+"/validate-mobile?app_id="+app_id+"&MOBILE_COMMUNICATION="+$('#MOBILE').val()+"&LOGIN_ID="+$('#loginid').val(), function( data ) {
						if(data.status==true){
							var passCode = data.passcode;
							bootbox.prompt({
								title: local.enter_otp,
								inputType: 'text',
								buttons:{
									confirm: {
										label: local.ok,
										className: 'btn-success'
									},
									cancel: {
										label: local.cancel,
										className: 'btn-danger'
									},
									/* ok: {
										label: "Resend",
										className: 'btn-primary'
									} */
								},
								callback: function (result) {
									console.log(result);
									if(result || result==''){
										if(result==''){
											return false;
										}

										$.ajax({
											type: "POST",
											url: base_url+"/verify-otp?app_id="+app_id,
											data:{TXN_ID:passCode, OTP:Base64.encode(result)},
											datatype:"json",
											async : false,
											beforeSend: function(){
												$('#loader').show();
											},
											success:function(data){
												$('#loader').hide();

												if(data.status){
													$('#mv').val('1');
													$('#lmobi').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
													$('#lmobi').removeClass('hide');
													$("#mvbtn").removeClass('disabled');
													clearInterval(otptimer);
													$("#mvbtn").html(local.verify);
													$("#mvbtn").addClass("hide");
													$('#MOBILE').prop('readonly',true);
													if($('#otp_txn').length) {
														$('#otp_txn').val(passCode);
													}else{
														$('<input>').attr({ type: 'hidden', id: 'otp_txn', name: 'OTP_TXN' }).insertAfter('#mv');
														$('#otp_txn').val(passCode);
													}
												}else{
													/*showMsgModel(local.error,local.passcodejs);
													$('#lmobi').addClass('hide');*/
													/*For re-enter OTP*/
													bootbox.confirm({
														message: local.passcodejs,
														buttons: {
															confirm: {
																label: local.ok,
																className: 'btn-success'
															},
															cancel: {
																label: local.cancel,
																className: 'hide btn-danger'
															},
														},
														callback: function (res) {
															bootbox.prompt({
																title: local.enter_otp,
																inputType: 'text',
																buttons:{
																	confirm: {
																		label: local.ok,
																		className: 'btn-success'
																	},
																	cancel: {
																		label: local.cancel,
																		className: 'btn-danger'
																	},
																	/* ok: {
																		label: "Resend",
																		className: 'btn-primary'
																	} */
																},
																callback: function (result) {
																	if(result || result==''){
																		if(result==''){
																			return false;
																		}
																		
																		$.ajax({
																			type: "POST",
																			url: base_url+"/verify-otp?app_id="+app_id,
																			data:{TXN_ID:passCode, OTP:Base64.encode(result)},
																			datatype:"json",
																			async : false,
																			beforeSend: function(){
																				$('#loader').show();
																			},
																			success:function(data){
																				$('#loader').hide();

																				if(data.status){
																					$('#mv').val('1');
																					$('#lmobi').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
																					$('#lmobi').removeClass('hide');
																					$("#mvbtn").removeClass('disabled');
																					clearInterval(otptimer);
																					$("#mvbtn").html(local.verify);
																					$("#mvbtn").addClass("hide");
																					$('#MOBILE').prop('readonly',true);
																					if($('#otp_txn').length) {
																						$('#otp_txn').val(passCode);
																					}else{
																						$('<input>').attr({ type: 'hidden', id: 'otp_txn', name: 'OTP_TXN' }).insertAfter('#mv');
																						$('#otp_txn').val(passCode);
																					}
																				}else{
																					showMsgModel(local.error,local.passcodejs);
																					$('#lmobi').addClass('hide');
																				}
																			}
																		});
																	}else{
																		$('#lmobi').addClass('hide');
																	}
																}
															});
														}
													});
													/*End of re-enter OTP*/
												}
											}
										});
										
									}else{
										$('#lmobi').addClass('hide');
										$("#mvbtn").removeClass('disabled');
										clearInterval(otptimer);
										$("#mvbtn").html(local.resend_otp);
									}
								}
							});
						}else{
							$('#errorModelLabel').html('<span>'+local.error+'</span>');
							$('#errorModelMsg').html(data.msg);
							$('#errorModel').modal('show');
							$('#lmobi').addClass('hide');
							$("#mvbtn").html("Verify");
						}
					});
				}else{
					$('#lmobi').addClass('hide');
					$('#MOBILE').val("");
				}
			}
		});
	}
	
	
	/* for NBU DDE  (not used)*/
	checkOldStudent2= function(){
		var app_id = getParam("app_id");
		var app_id= Base64.decode(app_id);
		if(app_id=="PIY0000008"){
			if($("#OTHER_YN").val()=="101"){
				$('#FGR_OTHER_EXAM_ROLL_NO').show();
				$('#FGR_OTHER_SCORE').show();
			}
			else{
				$('#FGR_OTHER_EXAM_ROLL_NO').hide();
				$('#FGR_OTHER_SCORE').hide();
			}
		}
	}
	showMsgModel=function(title="",message="",size="",cb){
		$('.modal').modal('hide');
		bootbox.alert({
			title: title,
			message:message,
			backdrop: true,
			size: size,
			buttons: {
				ok: {
					label: '<i class="fa fa-check"></i>'+local.ok,
				}
			},
			callback: function () {
				if (typeof cb == "function") cb();
			}
		});
	}
	
	enableBtn=function(){
		document.getElementById("Confirm").disabled = false;
	}
	showIETooltip = function(e){
		if(!e){var e = window.event;}
		var obj = e.srcElement;
		var objHeight = obj.offsetHeight;
		var optionCount = obj.options.length;
		var eX = e.offsetX;
		var eY = e.offsetY;
	
		//vertical position within select will roughly give the moused over option...
		var hoverOptionIndex = Math.floor(eY / (objHeight / optionCount));
	
		var tooltip = document.getElementById('dvDiv');
		tooltip.innerHTML = obj.options[hoverOptionIndex].title;
	
		mouseX=e.pageX?e.pageX:e.clientX;
		mouseY=e.pageY?e.pageY:e.clientY;
	
		tooltip.style.left=mouseX+10;
		tooltip.style.top=mouseY;
	
		tooltip.style.display = 'block';
	
		var frm = document.getElementById("frm");
		frm.style.left = tooltip.style.left;
		frm.style.top = tooltip.style.top;
		frm.style.height = tooltip.offsetHeight;
		frm.style.width = tooltip.offsetWidth;
		frm.style.display = "block";
	}
	hideIETooltip = function(e){
		var tooltip = document.getElementById('dvDiv');
		var iFrm = document.getElementById('frm');
		tooltip.innerHTML = '';
		tooltip.style.display = 'none';
		iFrm.style.display = 'none';
	}
	
	getStepPage=function(urlpath="",type="GET",id="",win=false){
		var app_id = getParam("app_id");
		$.ajax({
			type: type,
			url: base_url+'/'+urlpath,
			data:$(id).serialize(),
			datatype:"json",
			async : false,
			beforeSend: function(){
				$('#loader').show();
			},
			success:function(data){
				$('#loader').hide();
				if(data.status == true){
					if(win==true){
						window.open(data.html, "scrollbars=yes,resizable=yes,top=100,left=100,width=1200,height=800");
						}else{
						$('#reg_page').html(data.html);
						$.getScript(base_url+'/js/portal.js');
	
						if(urlpath=="registration-extend-step2?app_id="+app_id){
							$("#STUDENTCATEGORY").trigger("change");
							$("#DISTRICT").trigger("change");
							$("#STUDENT_COMMUNICATION_STATE").trigger("change");
							$("#STUDENT_PARMANENT_STATE").trigger("change");
	
							/*For SSLC alert*/
							console.log('Enter yeah!');
							$("#EDU_DOC_NO,#EDU_BOARD,#EDU_MONTH_YEAR,#EDU_MONTH,#EDU_REGISTRATION_NO").on('click', function(){
								var check = $('#SSLC_check').val();
								if(check == ""){
									$('#SSLC_check').val(1);
									showMsgModel(local.warning,local.sslc_warning);
								}
							});
							/*For SSLC end*/
						}
	
					}
					}else if(data.status == false){
					showMsgModel("Error",data.msg);
					}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value2 + '</li>';
						});
	
					});
					errorString += '</ul>';
					showMsgModel("Error",errorString);
				}
			}
		});
	}
	
	submitRegistrationStep= function(id){
		var input=[];
		input = $('#frm1').find(":input");
		$(input).each(function(index ,i) {
			if($(this).attr('name')!="_token"){
				if($('#' + $(this).attr('id')).hasClass('required') && $('#' + $(this).attr('id')).val()==""){
					errorElem.push($(this).attr('id'));
				}
			}
		});
		var sel= [];
		sel = $('#frm1').find(":selected");
		$(sel).each(function(index ,i) {
			if($(this).attr('name')!="_token"){
				if($('#' + $(this).attr('id')).hasClass('required') && $('#' + $(this).attr('id')).val()==""){
					errorElem.push($(this).attr('id'));
				}
			}
		});
	
		if($('#OLDMOBILE').val()!=$('#MOBILE').val() && id==1 && $('#MOBILE_VERIFY').length && $('#MOBILE_VERIFY').val()=="1"){
			if($('#mv').val()=="0"){
				errorBlock();
				$('#errorModelLabel').html('<span>'+local.error+'</span>');
				$('#errorModelMsg').html(local.mobile_error);
				$('#errorModel').modal('show');
				$('#MOBILE').focus();
				return false;
			}
		}
	
		if($("#DD").val() != "" && $("#DD").val() != 0 && $("#MM").val() != "" && $("#MM").val() != 0 && $("#YYYY").val() != "" && $("#YYYY").val() != 0 && id==1){
			var dob_ymd = $("#YYYY").val() +"-"+ $("#MM").val() +"-"+ $("#DD").val();
			var dob_dmy = $("#DD").val() +"-"+ $("#MM").val() +"-"+ $("#YYYY").val();
			var dobDate = moment(dob_ymd);
			var dobValid = dobDate.isValid();		
			if(!dobValid){
				errorBlock();
				$('#errorModelLabel').html('<span>'+local.error+'</span>');
				$('#errorModelMsg').html(`You have selected <strong>${dob_dmy}</strong> as your Date of Birth. This is invalid Date.<br/>Please select Valid Date of Birth.`);
				$('#errorModel').modal('show');
				$('#DD').focus();
				return false;
			}
		}
	
		if(errorElem.length > 0){
			errorBlock();
			showMsgModel(local.warning,local.required_fields);
			return false;
		}else{
			var result=false;
			console.log(id);
			if(id==4){
				/*bootbox.confirm({
					message: local.finalalert,
					buttons: {
						confirm: {
							label: local.yes,
							className: 'btn-success'
						},
						cancel: {
							label: local.no,
							className: 'btn-danger'
						}
					},
					callback: function (result) {
						prieviewSubmit(result,id);
					}
				});*/

				bootbox.alert({
					title: local.confirmation,
					message:local.finalalert,
					backdrop: true,
					size: "",
					buttons: {
						ok: {
							label: '<i class="fa fa-check"></i> '+local.ok,
						}
					},
					callback: function () {
						prieviewSubmit(true,id);
					}
				});
			}else{
				prieviewSubmit(true,id);
			}
		}
	}
	
	prieviewSubmit = function(result=false,id=0){
		if(result==true){
			var app_id = getParam("app_id");
			$.ajax({
				type: "POST",
				url: base_url+'/save-registration-step'+id+'?app_id='+app_id,
				data:$('#frm1').serialize(),
				datatype:"json",
				async : false,
				beforeSend: function(){
					$('#loader').show();
				},
				success:function(data){
					$('#loader').hide();
					if(data.status == true){
						if(data.url_path==""){
							getStepPage("registration-extend-step2?app_id="+app_id);
							jQuery('html,body').animate({scrollTop:0},500);
						}else if(data.url_path!=""){
							window.location=data.url_path;
						}
						$('.btnCheck').addClass('hide');
					}else if(data.status == false){
						showMsgModel("Error",data.msg);
	
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
				}
			});
		}
	}
	
	/* to get subcat for religion / category change */
	getSubCat = function(){
		var app_id = getParam("app_id");
		var STUDENTCATEGORY= $('#STUDENTCATEGORY').val();
		var STUDENTRELIGION= $('#student_religion').val();
		var SEL_STUDENTSUBCATEGORY= $('#STUDENTSUBCATEGORY').val();
		var SEL_DOC_ISSUE_AUTHORITY= $('#DOC_ISSUE_AUTHORITY').val();
		var GENDER= $('#sex').val();
		// $('#FGR_THIRD_GENDER_CAT').addClass('hide');
		// $('#THIRD_GENDER_CAT').removeClass('required');
		
		if(STUDENTCATEGORY != "" && STUDENTCATEGORY != "8"){
			$.ajax({
				type: "POST",
				url: base_url+"/get-sub-cat",
				data:{app_id:app_id,STUDENTCATEGORY:STUDENTCATEGORY,STUDENTRELIGION:STUDENTRELIGION,SEL_STUDENTSUBCATEGORY:SEL_STUDENTSUBCATEGORY,SEL_DOC_ISSUE_AUTHORITY:SEL_DOC_ISSUE_AUTHORITY,GENDER:GENDER},
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$("#STUDENTSUBCATEGORY option").remove();
					$('#STUDENTSUBCATEGORY').append($('<option>', {value: '', text: '-Select-'}));
	
					$("#DOC_ISSUE_AUTHORITY option").remove();
					$('#DOC_ISSUE_AUTHORITY').append($('<option>', {value: '', text: '-Select-'}));
				},
				success:function(data){
					$('#loader').hide();
					if(data.status==true){
						$('#STUDENTSUBCATEGORY').html(data.options);
						// $('#DOC_ISSUE_AUTHORITY').html(data.options2);
					}else if(data.status == false){
						showMsgModel("Error",data.msg);
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
				}
			});
			// showHideSubCat('show');
		} else{
			// showHideSubCat('hide');
		}
		// getThirdGenderCat();
	}
	
	checkForMobileOa=function(){
		if($('#MOBILE').val()==''){
			showMsgModel(local.warning,local.mobile_empty);
			return false;
		}
		if($('#MOBILE').val().indexOf('0')==0){
			showMsgModel(local.warning,local.mobile_verify);
			return false;		
		}
		if($('#MOBILE').val() == $('#OLDMOBILE').val()){
			showMsgModel(local.warning,local.mobile_same_number);
			return false;
		}
		$('#lmobi').html('<img class="ajax_loader" src="images/ajax_loader.gif">');
		$('#lmobi').removeClass('hide');
		bootbox.confirm({
			title: local.otp_header+"!",
			message: local.otp_body+ ": "+$('#MOBILE').val() + " " +local.otp_body_ext,
			buttons: {
				confirm: {
					label: '<i class="fa fa-check"></i> '+local.otp_confirm,
					className: 'btn-success'
				},
				cancel: {
					label: '<i class="fa fa-times"></i> '+local.otp_change,
					className: 'btn-danger'
				}
			},
			callback: function (re) {
				if(re==true){
					/* for showing timer on verify button*/
					var starttime = 60;
					var otptimer = setInterval(function(){
						starttime=starttime-1;
						$("#mvbtn").html(starttime+ local.otp_time);
					}, 1000);
	
					/* for disabeling/enabeling verify button*/
					$("#mvbtn").addClass('disabled');
					setTimeout(function() {
						$("#mvbtn").removeClass('disabled');
						clearInterval(otptimer);
						$("#mvbtn").html(local.resend_otp);
						/*if($('#mv').val()==1){
							$("#mvbtn").html("Verify");
						}*/
					}, 10000);
					var app_id = getParam("app_id");
	
					$.get( base_url+"/validate-mobile?app_id="+app_id+"&MOBILE_COMMUNICATION="+$('#MOBILE').val(), function( data ) {
						if(data.status==true){
							var passCode= data.passcode;
							bootbox.prompt({
								title: local.enter_otp,
								inputType: 'text',
								buttons:{
									confirm: {
										label: local.ok,
										className: 'btn-success'
									},
									cancel: {
										label: local.cancel,
										className: 'btn-danger'
									},
									/* ok: {
										label: "Resend",
										className: 'btn-primary'
									} */
								},
								callback: function (result) {
									console.log(result);
									if(result || result==''){
										if(result==''){
											return false;
										}
										if(result==Base64.decode(passCode)){
											$('#mv').val('1');
											$('#lmobi').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
											$('#lmobi').removeClass('hide');
											$("#mvbtn").removeClass('disabled');
											clearInterval(otptimer);
											$("#mvbtn").html(local.verify);
											$("#mvbtn").addClass("hide");
											$('#MOBILE').prop('readonly',true);
										}else if(result!=Base64.decode(passCode)){
											/*showMsgModel(local.error,local.passcodejs);
											$('#lmobi').addClass('hide');*/
											/*For re-enter OTP*/
											bootbox.confirm({
												message: local.passcodejs,
												buttons: {
													confirm: {
														label: local.ok,
														className: 'btn-success'
													},
													cancel: {
														label: local.cancel,
														className: 'hide btn-danger'
													},
												},
												callback: function (res) {
													bootbox.prompt({
														title: local.enter_otp,
														inputType: 'text',
														buttons:{
															confirm: {
																label: local.ok,
																className: 'btn-success'
															},
															cancel: {
																label: local.cancel,
																className: 'btn-danger'
															},
															/* ok: {
																label: "Resend",
																className: 'btn-primary'
															} */
														},
														callback: function (result) {
															if(result || result==''){
																if(result==''){
																	return false;
																}
																if(result==Base64.decode(passCode)){
																	$('#mv').val('1');
																	$('#lmobi').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
																	$('#lmobi').removeClass('hide');
																	$("#mvbtn").removeClass('disabled');
																	clearInterval(otptimer);
																	$("#mvbtn").html(local.verify);
																	$("#mvbtn").addClass("hide");
																	$('#MOBILE').prop('readonly',true);
																}else if(result!=Base64.decode(passCode)){
																	showMsgModel(local.error,local.passcodejs);
																	$('#lmobi').addClass('hide');
																}
															}else{
																$('#lmobi').addClass('hide');
															}
														}
													});
												}
											});
											/*End of re-enter OTP*/
										}
									}else{
										$('#lmobi').addClass('hide');
										$("#mvbtn").removeClass('disabled');
										clearInterval(otptimer);
										$("#mvbtn").html(local.resend_otp);
									}
								}
							});
						}else{
							$('#errorModelLabel').html('<span>'+local.error+'</span>');
							$('#errorModelMsg').html(data.msg);
							$('#errorModel').modal('show');
							$('#lmobi').addClass('hide');
							$("#mvbtn").html("Verify");
						}
					});
				}else{
					$('#lmobi').addClass('hide');
					$('#MOBILE').val("");
				}
			}
		});
	}

	checkForEmailOa=function(){
		if($('#email').val()==''){
			showMsgModel(local.warning,local.mobile_empty);
			return false;
		}
		// if($('#email').val().indexOf('0')==0){
		// 	showMsgModel(local.warning,local.mobile_verify);
		// 	return false;		
		// }

		$('#lemail').html('<img class="ajax_loader" src="images/ajax_loader.gif">');
		$('#lemail').removeClass('hide');
		bootbox.confirm({
			title: local.otp_header+"!",
			message: local.otp_body+ ": "+$('#email').val() + " " +local.otp_body_ext,
			buttons: {
				confirm: {
					label: '<i class="fa fa-check"></i> '+local.otp_confirm,
					className: 'btn-success'
				},
				cancel: {
					label: '<i class="fa fa-times"></i> '+local.otp_change,
					className: 'btn-danger'
				}
			},
			callback: function (re) {
				if(re==true){
					/* for showing timer on verify button*/
					var starttime = 60;
					var otptimer = setInterval(function(){
						starttime=starttime-1;
						$("#evbtn").html(starttime+ local.otp_time);
					}, 1000);
	
					/* for disabeling/enabeling verify button*/
					$("#evbtn").addClass('disabled');
					setTimeout(function() {
						$("#evbtn").removeClass('disabled');
						clearInterval(otptimer);
						$("#evbtn").html(local.resend_otp);
						/*if($('#mv').val()==1){
							$("#evbtn").html("Verify");
						}*/
					}, 10000);
					var app_id = getParam("app_id");
	
					$.get( base_url+"/emailValidate?app_id="+app_id+"&EMAIL="+$('#email').val(), function( data ) {
						if(data.status==true){
							var passCode1= data.passcode;
							bootbox.prompt({
								title: local.enter_otp,
								inputType: 'text',
								buttons:{
									confirm: {
										label: local.ok,
										className: 'btn-success'
									},
									cancel: {
										label: local.cancel,
										className: 'btn-danger'
									},
									/* ok: {
										label: "Resend",
										className: 'btn-primary'
									} */
								},
								callback: function (result) {
									console.log(result);
									if(result || result==''){
										if(result==''){
											return false;
										}
										if(result==Base64.decode(passCode1)){
											$('#ev').val('1');
											$('#lemail').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
											$('#lemail').removeClass('hide');
											$("#evbtn").removeClass('disabled');
											clearInterval(otptimer);
											$("#evbtn").html(local.verify);
											$("#evbtn").addClass("hide");
											$('#email').prop('readonly',true);
										}else if(result!=Base64.decode(passCode1)){
											/*showMsgModel(local.error,local.passcodejs);
											$('#lemail').addClass('hide');*/
											/*For re-enter OTP*/
											bootbox.confirm({
												message: local.passcodejs,
												buttons: {
													confirm: {
														label: local.ok,
														className: 'btn-success'
													},
													cancel: {
														label: local.cancel,
														className: 'hide btn-danger'
													},
												},
												callback: function (res) {
													bootbox.prompt({
														title: local.enter_otp,
														inputType: 'text',
														buttons:{
															confirm: {
																label: local.ok,
																className: 'btn-success'
															},
															cancel: {
																label: local.cancel,
																className: 'btn-danger'
															},
															/* ok: {
																label: "Resend",
																className: 'btn-primary'
															} */
														},
														callback: function (result) {
															if(result || result==''){
																if(result==''){
																	return false;
																}
																if(result==Base64.decode(passCode1)){
																	$('#ev').val('1');
																	$('#lemail').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
																	$('#lemail').removeClass('hide');
																	$("#evbtn").removeClass('disabled');
																	clearInterval(otptimer);
																	$("#evbtn").html(local.verify);
																	$("#evbtn").addClass("hide");
																	$('#email').prop('readonly',true);
																}else if(result!=Base64.decode(passCode)){
																	showMsgModel(local.error,local.passcodejs);
																	$('#lemail').addClass('hide');
																}
															}else{
																$('#lemail').addClass('hide');
															}
														}
													});
												}
											});
											/*End of re-enter OTP*/
										}
									}else{
										$('#lemail').addClass('hide');
										$("#evbtn").removeClass('disabled');
										clearInterval(otptimer);
										$("#evbtn").html(local.resend_otp);
									}
								}
							});
						}else{
							$('#errorModelLabel').html('<span>'+local.error+'</span>');
							$('#errorModelMsg').html(data.msg);
							$('#errorModel').modal('show');
							$('#lemail').addClass('hide');
							$("#evbtn").html("Verify");
						}
					});
				}else{
					$('#lemail').addClass('hide');
					$('#email').val("");
				}
			}
		});
	}

	submitOARegistration= function(){
		var input=[];
		input = $('#frm1').find(":input");
		$(input).each(function(index ,i) {
			if($(this).attr('name')!="_token"){
				if($('#' + $(this).attr('id')).hasClass('required') && $('#' + $(this).attr('id')).val()==""){
					errorElem.push($(this).attr('id'));
				}
			}
		});
		var sel= [];
		sel = $('#frm1').find(":selected");
		$(sel).each(function(index ,i) {
			if($(this).attr('name')!="_token"){
				if($('#' + $(this).attr('id')).hasClass('required') && $('#' + $(this).attr('id')).val()==""){
					errorElem.push($(this).attr('id'));
				}
			}
		});
	
		if($('#MOBILE_VERIFY').length && $('#MOBILE_VERIFY').val()=="1"){
			if($('#mv').val()=="0"){
				errorBlock();
				$('#errorModelLabel').html('<span>'+local.error+'</span>');
				$('#errorModelMsg').html(local.mobile_error);
				$('#errorModel').modal('show');
				$('#MOBILE').focus();
				return false;
			}
		}
	
		if($("#DD").val() != "" && $("#DD").val() != 0 && $("#MM").val() != "" && $("#MM").val() != 0 && $("#YYYY").val() != "" && $("#YYYY").val() != 0){
			var dob_ymd = $("#YYYY").val() +"-"+ $("#MM").val() +"-"+ $("#DD").val();
			var dob_dmy = $("#DD").val() +"-"+ $("#MM").val() +"-"+ $("#YYYY").val();
			var dobDate = moment(dob_ymd);
			var dobValid = dobDate.isValid();		
			if(!dobValid){
				errorBlock();
				$('#errorModelLabel').html('<span>'+local.error+'</span>');
				$('#errorModelMsg').html(`You have selected <strong>${dob_dmy}</strong> as your Date of Birth. This is invalid Date.<br/>Please select Valid Date of Birth.`);
				$('#errorModel').modal('show');
				$('#DD').focus();
				return false;
			}
		}
	
		if(errorElem.length > 0){
			errorBlock();
			showMsgModel(local.warning,local.required_fields);
			return false;
		}else{
			var app_id = getParam("app_id");
			$.ajax({
				type: "POST",
				url: base_url+'/oaRegSave?app_id='+app_id,
				data:$('#frm1').serialize(),
				datatype:"json",
				async : false,
				beforeSend: function(){
					$('#loader').show();
				},
				success:function(data){
					$('#loader').hide();
					if(data.status == true){
						if(data.url_path!=""){
							window.location=data.url_path;
						}						
					}else if(data.status == false){
						showMsgModel("Error",data.message);
						refreshCaptcha();
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
				}
			});						
		}
	}

	submitOaStep= function(id){
		var input=[];
		input = $('#frm1').find(":input");
		$(input).each(function(index ,i) {
			if($(this).attr('name')!="_token"){
				if($('#' + $(this).attr('id')).hasClass('required') && $('#' + $(this).attr('id')).val()==""){
					errorElem.push($(this).attr('id'));
				}
			}
		});
		var sel= [];
		sel = $('#frm1').find(":selected");
		$(sel).each(function(index ,i) {
			if($(this).attr('name')!="_token"){
				if($('#' + $(this).attr('id')).hasClass('required') && $('#' + $(this).attr('id')).val()==""){
					errorElem.push($(this).attr('id'));
				}
			}
		});
	
		if($('#MOBILE_VERIFY').length && $('#MOBILE_VERIFY').val()=="1"){
			if($('#mv').val()=="0"){
				errorBlock();
				$('#errorModelLabel').html('<span>'+local.error+'</span>');
				$('#errorModelMsg').html(local.mobile_error);
				$('#errorModel').modal('show');
				$('#MOBILE').focus();
				return false;
			}
		}
	
		if($("#DD").val() != "" && $("#DD").val() != 0 && $("#MM").val() != "" && $("#MM").val() != 0 && $("#YYYY").val() != "" && $("#YYYY").val() != 0 && id==1){
			var dob_ymd = $("#YYYY").val() +"-"+ $("#MM").val() +"-"+ $("#DD").val();
			var dob_dmy = $("#DD").val() +"-"+ $("#MM").val() +"-"+ $("#YYYY").val();
			var dobDate = moment(dob_ymd);
			var dobValid = dobDate.isValid();		
			if(!dobValid){
				errorBlock();
				$('#errorModelLabel').html('<span>'+local.error+'</span>');
				$('#errorModelMsg').html(`You have selected <strong>${dob_dmy}</strong> as your Date of Birth. This is invalid Date.<br/>Please select Valid Date of Birth.`);
				$('#errorModel').modal('show');
				$('#DD').focus();
				return false;
			}
		}
	
		if(errorElem.length > 0){
			errorBlock();
			showMsgModel(local.warning,local.required_fields);
			return false;
		}else{
			var app_id = getParam("app_id");
			$.ajax({
				type: "POST",
				url: base_url+'/oa-application'+id+'-save?app_id='+app_id,
				data:$('#frm1').serialize(),
				datatype:"json",
				async : false,
				beforeSend: function(){
					$('#loader').show();
				},
				success:function(data){
					$('#loader').hide();
					if(data.status == true){
						if(data.url_path!=""){
							window.location=data.url_path;
						}						
					}else if(data.status == false){
						showMsgModel("Error",data.message);
						//refreshCaptcha();
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
				}
			});
		}
	}

	showMessage = function(){
		bootbox.alert({
			title:'Information',
			message: local.third_gender_community_msg,
			callback: function () {
				console.log('This was logged in the callback!');
			}
		});
	}
	
	getBaseCommunalCat = function(){
		var app_id = getParam("app_id");	
		var BIRTH_PLACE= $("#birth_place").val();
		var NATIVE_DISTRICT= $("#native_district").val();
		var FATHER_PLACE_BIRTH= $("#father_place_birth").val();
		var FATHER_NATIVE_DISTRICT= $("#father_native_district").val();
		var STUDENT_RELIGION= $("#student_religion").val();
		// var HAS_BCM_BIRTH_CONVERTED = $('#HAS_BCM_BIRTH_CONVERTED').val();
		var HAS_BCM_BIRTH_CONVERTED = '101';
		var NATIONALITY = $('#studentnationality').val();
		var NATIONALITY_OTHER = $('#studentnationality_other').val();
	
		if(BIRTH_PLACE !="" && NATIVE_DISTRICT !="" && FATHER_PLACE_BIRTH !="" && STUDENT_RELIGION != "" && FATHER_NATIVE_DISTRICT != ""){
			$.ajax({
				type: "POST",
				url: base_url+"/get-base-communal-cat",
				data:{app_id:app_id,BIRTH_PLACE:BIRTH_PLACE,NATIVE_DISTRICT:NATIVE_DISTRICT,FATHER_PLACE_BIRTH:FATHER_PLACE_BIRTH,STUDENT_RELIGION:STUDENT_RELIGION,FATHER_NATIVE_DISTRICT:FATHER_NATIVE_DISTRICT,HAS_BCM_BIRTH_CONVERTED:HAS_BCM_BIRTH_CONVERTED,NATIONALITY:NATIONALITY,NATIONALITY_OTHER:NATIONALITY_OTHER},
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('#HAS_COMMUNAL_CATEGORY').html("");
				},
				success:function(data){
					$('#loader').hide();
					if(data.status==true){
						$('#HAS_COMMUNAL_CATEGORY').html(data.options);
					}else if(data.status == false){
						showMsgModel("Error",data.msg);
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
				}
			});
		}
	}
	
	/*Get communnal category for otr/profile page*/
	getCommunalCat = function(){
		var app_id = getParam("app_id");
		var STUDENTRELIGION= $("#student_religion").val();
		var BIRTH_PLACE= $("#birth_place").val();
		var NATIVE_DISTRICT= $("#native_district").val();
		var FATHER_PLACE_BIRTH= $("#father_place_birth").val();
		var FATHER_NATIVE_DISTRICT= $("#father_native_district").val();
		var HAS_COMMUNAL_CATEGORY= $("#HAS_COMMUNAL_CATEGORY").val();
		var THIRD_GENDER_DOC_ISSUED_BY= $("#third_Gender_doc_issued_by").val();
		var THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE= $("#THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE").val();
		var ISSUED_STATE= $("#ISSUED_STATE").val();

		var NATIONALITY = $('#studentnationality').val();
		var NATIONALITY_OTHER = $('#studentnationality_other').val();
	
		var GENDER= $("#sex").val();
	
		if(STUDENTRELIGION !="" && BIRTH_PLACE !="" && NATIVE_DISTRICT !="" && FATHER_PLACE_BIRTH !="" && FATHER_NATIVE_DISTRICT !="" && GENDER != ""){
			$.ajax({
				type: "POST",
				url: base_url+"/get-communal-cat",
				data:{app_id:app_id,STUDENTRELIGION:STUDENTRELIGION,BIRTH_PLACE:BIRTH_PLACE,NATIVE_DISTRICT:NATIVE_DISTRICT,FATHER_PLACE_BIRTH:FATHER_PLACE_BIRTH,FATHER_NATIVE_DISTRICT:FATHER_NATIVE_DISTRICT,HAS_COMMUNAL_CATEGORY:HAS_COMMUNAL_CATEGORY,GENDER:GENDER,ISSUED_STATE:ISSUED_STATE,THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE:THIRD_GENDER_HAS_COMMUNITY_CERTIFICATE,THIRD_GENDER_DOC_ISSUED_BY:THIRD_GENDER_DOC_ISSUED_BY,NATIONALITY:NATIONALITY,NATIONALITY_OTHER:NATIONALITY_OTHER},
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('#STUDENTCATEGORY').html("");
				},
				success:function(data){
					$('#loader').hide();
					if(data.status==true){
						$('#STUDENTCATEGORY').html(data.options);
					}else if(data.status == false){
						showMsgModel("Error",data.msg);
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
				}
			});
		}
	}
	/*Get communnal category for profile page*/
	
	/*Get issue Authority*/
	getIssueAuthority = function(){
		var app_id = getParam("app_id");
		var STUDENTCATEGORY= $('#STUDENTCATEGORY').val();
		var STUDENTSUBCATEGORY= $('#STUDENTSUBCATEGORY').val();
		var SEL_DOC_ISSUE_AUTHORITY= $('#DOC_ISSUE_AUTHORITY').val();
		var DISTRICT= $('#DISTRICT').val();
	
		if(STUDENTCATEGORY!="" && STUDENTCATEGORY!="8" && STUDENTSUBCATEGORY !="" && DISTRICT != ""){
			$.ajax({
				type: "POST",
				url: base_url+"/get-issue-authority",
				data:{app_id:app_id,STUDENTCATEGORY:STUDENTCATEGORY,STUDENTSUBCATEGORY:STUDENTSUBCATEGORY,DISTRICT:DISTRICT,SEL_DOC_ISSUE_AUTHORITY:SEL_DOC_ISSUE_AUTHORITY},
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('#DOC_ISSUE_AUTHORITY').html("");
				},
				success:function(data){
					$('#loader').hide();
					if(data.status==true){
						$('#DOC_ISSUE_AUTHORITY').html(data.options2);
					}else if(data.status == false){
						showMsgModel("Error",data.msg);
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
	
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
				}
			});
		}
	}
	/*Get issue Authority*/
	
	/* to get subcat for third gender */
	getThirdGenderCat = function(){
		var app_id = getParam("app_id");
		var STUDENTCATEGORY= $('#STUDENTCATEGORY').val();
		var DISTRICT= $('#ISSUED_STATE').val();
		var GENDER = $('#sex').val();
		var THIRD_GENDER_CAT = $('#THIRD_GENDER_CAT').val();
		var catArr = ['6','7','8'];
		if($.inArray(STUDENTCATEGORY, catArr) == -1){
			STUDENTCATEGORY="";
		}
		if(STUDENTCATEGORY!="" || DISTRICT=="1000"){
			/*if(DISTRICT=="1000"){
				STUDENTCATEGORY="";
			}*/
			$.ajax({
				type: "POST",
				url: base_url+"/get-thirdgender-sub-cat",
				data:{app_id:app_id,STUDENTCATEGORY:STUDENTCATEGORY,DISTRICT:DISTRICT,GENDER:GENDER,THIRD_GENDER_CAT:THIRD_GENDER_CAT},
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('#THIRD_GENDER_CAT').html("<option value>-Select-</option>");
				},
				success:function(data){
					$('#loader').hide();
					if(data.status==true){
						//console.log("wordCount"+data.wordCount);
						if(data.wordCount!="0"){
							if(GENDER == 'third_gender'){
								$('#FGR_THIRD_GENDER_CAT').removeClass('hide');
								$('#THIRD_GENDER_CAT').html(data.options);
								$('#THIRD_GENDER_CAT').addClass('required');
							}
						}
						else{
							$('#FGR_THIRD_GENDER_CAT').addClass('hide');
							$('#THIRD_GENDER_CAT').removeClass('required');
						}
	
						}else if(data.status == false){
						showMsgModel("Error",data.msg);
						}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
	
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
				}
			});
		}
		else{
			$('#THIRD_GENDER_CAT').html("<option value>-Select-</option>");
		}
	}
	
	showHideSubCat = function(param){
		if(param=="show"){
			$("#FGR_STUDENTSUBCATEGORY").removeClass('hide');
			$("#STUDENTSUBCATEGORY").addClass('required');
	
			$("#FGR_DOC_ISSUE_AUTHORITY").removeClass('hide');
			$("#DOC_ISSUE_AUTHORITY").addClass('required');
	
			$("#FGR_DOC_NO").removeClass('hide');
			$("#DOC_NO").addClass('required');
	
			$("#FGR_DOC_ISSUE_MONTH").removeClass('hide');
			$("#DOC_ISSUE_MONTH").addClass('required');
	
			$("#FGR_ISSUED_STATE").removeClass('hide');
			$("#ISSUED_STATE").addClass('required');
		} else if(param=="hide"){
			$("#FGR_STUDENTSUBCATEGORY").addClass('hide');
			$("#STUDENTSUBCATEGORY").val("");
			$("#STUDENTSUBCATEGORY").removeClass('required');
			
			$("#FGR_DOC_ISSUE_AUTHORITY").addClass('hide');
			$("#DOC_ISSUE_AUTHORITY").val("");
			$("#DOC_ISSUE_AUTHORITY").removeClass('required');
			
			$("#FGR_DOC_NO").addClass('hide');
			$("#DOC_NO").val("");
			$("#DOC_NO").removeClass('required');
			
			$("#FGR_DOC_ISSUE_MONTH").addClass('hide');
			$("#DOC_ISSUE_MONTH").val("");
			$("#DOC_ISSUE_MONTH").removeClass('required');
			
			$("#FGR_ISSUED_STATE").addClass('hide');
			$("#ISSUED_STATE").val("");
			$("#ISSUED_STATE").removeClass('required');
			
			$("#FGR_DISTRICT").addClass('hide');
			$("#DISTRICT").val("");
			$("#DISTRICT").removeClass('required');
			
			$("#FGR_TALUK").addClass('hide');
			$("#TALUK").val("");
			$("#TALUK").removeClass('required');
	
			$('#FGR_THIRD_GENDER_CAT').addClass('hide');
			$("#THIRD_GENDER_CAT").val("");
			$("#THIRD_GENDER_CAT").removeClass('required');	
			$("#THIRD_GENDER_CAT option").remove();
		} else if(param=="empty"){
			$("#STUDENTSUBCATEGORY").val("");
			$("#DOC_ISSUE_AUTHORITY").val("");
			$("#DOC_NO").val("");
			$("#DOC_ISSUE_MONTH").val("");
			$("#ISSUED_STATE").val("");
			$("#DISTRICT").val("");
			$("#TALUK").val("");
		}
	}
	
	getTaluk = function (){
		var app_id = getParam("app_id");
		var DISTRICT= $('#DISTRICT').val();
		if(DISTRICT !=1000 && DISTRICT!='' ){
			console.log(DISTRICT);
			$("#FGR_TALUK").removeClass('hide');
			$("#TALUK").addClass('required');
		}else{
			console.log(DISTRICT);
			$("#FGR_TALUK").addClass('hide');
			$("#TALUK").removeClass('required');
		}
		// $('#FGR_THIRD_GENDER_CAT').addClass('hide');
		// $('#THIRD_GENDER_CAT').removeClass('required');
		$.ajax({
			type: "POST",
			url: base_url+"/get-taluk",
			data:{app_id:app_id,DISTRICT:DISTRICT},
			dataType:'json',
			beforeSend: function(){
				$('#loader').show();
				$('#TALUK').html("");
			},
			success:function(data){
				$('#loader').hide();
				if(data.status==true){
					$('#TALUK').html(data.options);
					$('#TALUK').val('');
				}else if(data.status == false){
					showMsgModel("Error",data.msg);
				}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value2 + '</li>';
						});
	
					});
					errorString += '</ul>';
					showMsgModel("Error",errorString);
				}
			}
		});
	}
	
	getDistrict = function (srcid, targetid){
		var app_id = getParam("app_id");
		var stateid= $('#'+srcid).val();
		$.ajax({
			type: "POST",
			url: base_url+"/get-district",
			data:{app_id:app_id,stateid:stateid,targetid:targetid},
			dataType:'json',
			beforeSend: function(){
				$('#loader').show();
				$('#'+targetid).html("");
			},
			success:function(data){
				$('#loader').hide();
				if(data.status==true){
					$('#'+targetid).html(data.options);
					// $('#'+targetid).val('');
				}else if(data.status == false){
						showMsgModel("Error",data.msg);
				}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value2 + '</li>';
						});
	
					});
					errorString += '</ul>';
					showMsgModel("Error",errorString);
				}
			}
		});
	}
	
	showOtherNationality = function(){
		if($("#studentnationality").val()=="999"){
			$("#NATIONALITY_OTHER").removeClass('hide');
			$("#studentnationality_other").addClass('required');
			} else{
			$("#NATIONALITY_OTHER").addClass('hide');
			$("#studentnationality_other").val("");
			$("#studentnationality_other").removeClass('required');
		}
	}
	
	
	/*Show Eligibilty Details According to the course*/
	showElegibility = function(){
		if($('#APPLICATION_TYPE').val() == "" || $('#APPLICATION_TYPE').val() == 0 ){
			errorElem.push("APPLICATION_TYPE");
		}
		if($('#COURSECODE').val() == "" || $('#COURSECODE').val() == 0){
			errorElem.push("COURSECODE");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('#errorModelLabel').html('<span>Error</span>');
			$('#errorModelMsg').html('Please enter data for required fields!');
			$('#errorModel').modal('show');
			return false;
			}else{
			var app_id = getParam("app_id");
			/*var app_id= Base64.decode(app_id);*/
			var	courseCode= $('#COURSECODE').val();
			$('#loader').show();
			$.get( base_url+"get-elegibity-details?app_id="+app_id+'&courseCode='+courseCode, function( data ) {
				$('#loader').hide();
				if(data.success == true){
					$('#errormodelBTN').html("Cancel");
					if(data.html !== null){
						$('#errorModelLabel').html('<span>Eligibility Details</span>');
						$('#errorModelMsg').html(data.html+'<br><div class="row" id="authorisedHTML"><input type="checkbox" value="Accept" name="chk" id="applyChk" onClick="apply();"/>&nbsp;&nbsp;I have read and confirmed above eligliblity conditions</div><input onClick="apply2();" class="btn btn-warning  style="margin-top:5px;" name="Submit" id="Submit" value="Add The '+$('#coursr_prog').val()+'" disabled  />');
						$('#errorModel').modal('show');
						}else{
						$('#errorModelLabel').html('<span>Eligibility Details</span>');
						$('#errorModelMsg').html('<br><div class="row" id="authorisedHTML"><input type="checkbox" value="Accept" name="chk" id="applyChk" onClick="apply();"/>&nbsp;&nbsp;I have read and confirmed above eligliblity conditions</div><input onClick="apply2();" class="btn btn-warning  style="margin-top:5px;" name="Submit" id="Submit" value="Add The '+$('#coursr_prog').val()+'" disabled  />');
						$('#errorModel').modal('show');
					}
					}else{
					$('#errorModelLabel').html('<span>Eliegibility Details Not Available</span>');
					$('#errorModelMsg').html('Contact To Administrator For Details');
					$('#errorModel').modal('show');
				}
			});
		}
	}
	
	enableLoginBtn=function(type=null){
		if($('#logincaptcha').val()!=""){
			$("#loginBth").removeClass('disabled');
			$('#login').each(function(){
				$(this).find('input').keypress(function(e) {
					if(e.which == 13) {
						if(type == "dept"){
							postDeptLogin();
						}else if(type == "oa"){
							postOaLogin();
						}else if(type == "officer"){
							postOfficerLogin();
						}else {
							postLogin();
						}
					}
				});
			});
		}else{
			$("#loginBth").addClass('disabled');
		}
	}
	
	/* to encrypt Old OTR Developed By Yugal Kishor Bais */
	checkPwdEncryption1 = function (id){
		var app_id = getParam("app_id");
		$('#checkFlag').val(id);
		var total = $('#reg_page01').html();
		var comp = $('#reg_page1').html();
		var remain = $('#reg_page0').html();
		var takecount = 100;
		if(id=="1" && parseInt(remain)>0){
		$.ajax({
			type: "POST",
			url: base_url+"/pwd-encrypt-yug1",
			data:{app_id:app_id,takecount:takecount},
			dataType:'json',
			beforeSend: function(){
				//$('#loader').show();
				//$('#TALUK').html("");
			},
			success:function(data){
				//$('#loader').hide();
				if(data.status==true){
					var color = '#'+(Math.random()*0xFFFFFF<<0).toString(16);
					$('.md-form').css('color', color);
					/*$('#reg_page01').html(data.total);
					$('#reg_page1').html(data.comp);
					$('#reg_page0').html(data.remain);*/
					$('#reg_page1').html(parseInt(comp)+takecount);
					$('#reg_page0').html(parseInt(remain)-takecount);
	
					if($('#checkFlag').val()=="1" && parseInt(remain)>0){
						checkPwdEncryption1(1);
					}
					}else if(data.status == false){
						showMsgModel("Error",data.msg);
					}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value2 + '</li>';
						});
	
					});
					errorString += '</ul>';
					showMsgModel("Error",errorString);
				}
			}
		});
		}
		else{
			showMsgModel("Warning",'Encryption has been aborted.');
		}
	}
	
	photoVisibilityCheck = function (id){
		var app_id = getParam("app_id");
		$('#checkFlag').val(id);
		var total = $('#reg_page01').html();
		var comp = $('#reg_page1').html();
		var remain = $('#reg_page0').html();
		var takecount = 1000;
		if(id=="1" && parseInt(remain)>0){
		$.ajax({
			type: "POST",
			url: base_url+"/photo-visibility-check",
			data:{app_id:app_id,takecount:takecount},
			dataType:'json',
			beforeSend: function(){
				//$('#loader').show();
				//$('#TALUK').html("");
			},
			success:function(data){
				//$('#loader').hide();
				if(data.status==true){
					var color = '#'+(Math.random()*0xFFFFFF<<0).toString(16);
					$('.md-form').css('color', color);
					$('#reg_page01').html(data.total);
					$('#reg_page1').html(data.comp);
					$('#reg_page0').html(data.remain);
					/*$('#reg_page1').html(parseInt(comp)+takecount);
					$('#reg_page0').html(parseInt(remain)-takecount);*/
	
					if($('#checkFlag').val()=="1" && parseInt(remain)>0){
						photoVisibilityCheck(1);
					}
					}else if(data.status == false){
						showMsgModel("Error",data.msg);
					}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value2 + '</li>';
						});
	
					});
					errorString += '</ul>';
					showMsgModel("Error",errorString);
				}
			}
		});
		}
		else{
			showMsgModel("Warning",'Visibility has been aborted.');
		}
	}
	
	openLoginPage =function(){
		var app_id = getParam("app_id");
		$.ajax({
			type: "GET",
			url: base_url+"/get-login-form?app_id="+app_id,
			dataType:'json',
			beforeSend: function(){
				var dialog = bootbox.dialog({
					message: '<p class="text-center">Please wait while we do something...</p>',
					closeButton: false
				});
			},
			success:function(data){
				$('.modal').modal('hide');
				if(data.success == true){
					bootbox.dialog({
						title: data.label,
						message: data.html,
						closeButton: true
					});
					$('#login').each(function(){
						$(this).find('input').keypress(function(e) {
							if(e.which == 13) {
								return false;
							}
						});
					});
					}else{
					showMsgModel("Error","Something went wrong ! Try again later");
				}
			}
		});
	}
	
	refreshCaptcha =function (){
		$.ajax({
			url: base_url+"refereshcapcha",
			type: 'get',
			dataType: 'html',
			success: function(json) {
				$('.refereshrecapcha').html(json);
			},
			error: function(data) {
				showMsgModel("Error","Something went wrong ! Try again");
			}
		});
	}
	printDiv = function(){
		var divToPrint = document.getElementById('print_div');
		newWin = window.open("");
		newWin.document.write(divToPrint.outerHTML);
		newWin.print();
		newWin.close();
	}
	apply = function(){
		if($('input[name=chk]:checked').val() == 'Accept'){
			$("#Submit").prop("disabled",false);
			$("#saveBtn2").removeClass("disabled");
			$("#edit_preview_btn").addClass("disabled");
			}else{
			$("#Submit").prop("disabled",true);
			$("#saveBtn2").addClass("disabled");
			$("#edit_preview_btn").removeClass("disabled");
		}
	
	}
	apply2 = function(){
	
		var v= "Add The "+$('#coursr_prog').val();
		if($('input[name=Submit]').val() == v){
			$("#submitPage, #errormodelBTN").click();
		}
	
	}
	postLogin = function(){
		if($('#EMAIL_ID').val() == ""){
			errorElem.push("EMAIL_ID");
		}
		if($('#PASSWORD').val() == ""){
			errorElem.push("PASSWORD");
		}
		if($('#logincaptcha').val() == ""){
			errorElem.push("logincaptcha");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>Please enter data for required fields!</div>');
			return false;
			}else{
			$.ajax({
				type: "POST",
				url: base_url+"checkLogin",
				data: $('#login').serialize(),
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('.modal-dialog').find('.alertMsg').html("");
				},
				success:function(data){
					if(data.status == true){
						window.location = data.intended_url;
					}else if (data.status == false) {
						$('#loader').hide();
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+data.message+'</div>');
						refreshCaptcha();
						$('#logincaptcha').val("");
					}else{
						refreshCaptcha();
						$('#logincaptcha').val("");
						$('#loader').hide();
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
	
						});
						errorString += '</ul>';
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+errorString+'</div>');
					}
	
				}
			});
		}
	}
	
	postLoginresumit = function(){
		if($('#EMAIL_ID').val() == ""){
			errorElem.push("EMAIL_ID");
		}
		if($('#PASSWORD').val() == ""){
			errorElem.push("PASSWORD");
		}
		if($('#logincaptcha').val() == ""){
			errorElem.push("logincaptcha");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>Please enter data for required fields!</div>');
			return false;
			}else{
			$.ajax({
				type: "POST",
				url: base_url+"checkLoginresubmit",
				data: $('#groupIedu').serialize(),
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('.modal-dialog').find('.alertMsg').html("");
				},
				success:function(data){
					if(data.status == true){
						window.location = base_url+"education-details-resubmit";
					}else if (data.status == false) {
						$('#loader').hide();
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+data.message+'</div>');
						refreshCaptcha();
						$('#logincaptcha').val("");
					}else{
						refreshCaptcha();
						$('#logincaptcha').val("");
						$('#loader').hide();
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
	
						});
						errorString += '</ul>';
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+errorString+'</div>');
					}
	
				}
			});
		}
	}
	
	/* Registration Checking*/
	checkRegistration = function (){
		if($('#password').val() != $('#password_confirmation').val()){
			showMsgModel(local.warning,local.passwordmatch);
			return false;
		}
		if($('#email').val() != $('#email2').val()){
			showMsgModel(local.warning,local.emailmatch);
			return false;
		}
	}
	
	checkOfficerRegistration = function (){
		if($('#password').val() != $('#password_confirmation').val()){
			showMsgModel(local.warning,local.passwordmatch);
			return false;
		}
		if($('#email').val() != $('#email2').val()){
			showMsgModel(local.warning,local.emailmatch);
			return false;
		}
	}
	
	showMsgModel2=function(title="",message="",size="",pageName=""){
		$('.modal').modal('hide');
		bootbox.alert({
			title: title,
			message:message,
			backdrop: true,
			size: size,
			buttons: {
				ok: {
					label: '<i class="fa fa-check"></i> '+local.ok,
				}
			},
			callback: function () {
				if(pageName=="certificatePage"){
					certificteFunction();
				}
			}
		});
	}
	
	/* Checking Of agee Limit According to the course And cast */
	checkAgeLimit = function (){
		var app_id = getParam("app_id");
		/*var app_id= Base64.decode(app_id);*/
		var sub_id = getParam("sub_id");
		var sub_id= Base64.decode(sub_id);
		var STUDENTCATEGORY= $('#STUDENTCATEGORY').val();
		var PWD= $('#STUDENT_PHYSICAL_CHALLANGED').val();
		var PWDDETAILS= $('#STUDENT_PHYSICAL_CHALLANGED_DETAIL').val();
		$.ajax({
			type: "POST",
			url: base_url+"/check-age-limit",
			data:{app_id:app_id,sub_id:sub_id,STUDENTCATEGORY:STUDENTCATEGORY,PWD:PWD,PWDDETAILS:PWDDETAILS},
			dataType:'json',
			beforeSend: function(){
				$('#loader').show();
			},
			success:function(data){
				$('#loader').hide();
				if (data.success == true){
					$('#ageLimit').html('<label style="">Your Age Should Not be less Than '+data.MinAgeLimit+' Year Or Not More Than '+data.MaxAgeLimit+' Year</label>');
					/*$('#agelimitFormGroup').addClass('has-error');*/
				}else{
					$('#ageLimit').html("");
				}
			}
		});
	}
	
	
	checkActivation = function (){
		if($('#CONTROL_ID').val()== ""){
			errorElem.push("CONTROL_ID");
		}
		if(errorElem.length > 0){
			errorBlock();
			showMsgModel("Warning","Please enter Your Activation Code!.");
			return false;
		}
	}
	
	changPassword = function (){
	
		if($('#new_password').val()== ""){
			errorElem.push("new_password");
		}
		if($('#con_password').val()== ""){
			errorElem.push("con_password");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('#errorModelLabel').html('<span>Error</span>');
			$('#errorModelMsg').html('You have left some mandatory fields blank in this section. They are marked in "RED" for your convenience. Please enter the required data to save and proceed further.!');
			$('#errorModel').modal('show');
			return false;
			}else{
			if($('#new_password').val() != $('#con_password').val()){
				$('#errorModelLabel').html('<span style="color:red">Error</span>');
				$('#errorModelMsg').html('Password and confirm password does not match!');
				$('#errorModel').modal('show');
				return false;
			}
		}
	}
	
	/*Forget Password */
	forgetPassword = function (){
		if($('#loginid').val()== ""){
			errorElem.push("loginid");
		}
		if($('#DD').val()== ""){
			errorElem.push("DD");
		}
		if($('#MM').val()== ""){
			errorElem.push("MM");
		}
		if($('#YYYY').val()== ""){
			errorElem.push("YYYY");
		}
		if($('#email').val()== ""){
			errorElem.push("email");
		}
		if(!isEmail($('#email').val())){
			errorElem.push('email');
		}
		if($('#MOBILE').val()== ""){
			errorElem.push("MOBILE");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('#errorModelLabel').html('<span>Error</span>');
			$('#errorModelMsg').html('Please fill all the required fields');
			$('#errorModel').modal('show');
			return false;
		}else {
			return true;
		}
	}
	
	/*Forget Login ID */
	forgetLoginId = function (){
		if($('#EDU_REGISTRATION_NO').val()== ""){
			errorElem.push("DD");
		}
		if($('#DD').val()== ""){
			errorElem.push("DD");
		}
		if($('#MM').val()== ""){
			errorElem.push("MM");
		}
		if($('#YYYY').val()== ""){
			errorElem.push("YYYY");
		}
		if($('#email').val()== ""){
			errorElem.push("email");
		}
		if(!isEmail($('#email').val())){
			errorElem.push('email');
		}
		if($('#MOBILE').val()== ""){
			errorElem.push("MOBILE");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('#errorModelLabel').html('<span>Error</span>');
			$('#errorModelMsg').html('Please fill all the required fields');
			$('#errorModel').modal('show');
			return false;
		}
	}
	
	picOnsubmit=function(thisDat,urt="",p1="",imgFile="",menuid=""){
		$('#'+p1).show();
		if($('#'+imgFile).val()==""){
			showMsgModel("This is a warning message!",'Please select a Image!');
			return false;
		}
		$.ajax({
	
			url: base_url+"/"+urt,
			type: "POST",
			data: new FormData(thisDat),
			contentType: false,
			cache: false,
			processData:false,
			async:false,
			beforeSend: function(){
	
				var percentVal = '10%';
				$('#pBar').css('width',(percentVal));
				$('#percent').html(percentVal);
				$('#pBar').addClass('progress-bar-success');
			},
			success: function(data){
	
				if(data.status == true){
					var percentVal = '100%';
					$('#pBar').css('width',(percentVal));
					$('#percent').html(percentVal);
					location.reload();
				}else if(data.status==false){
					showMsgModel("Error",data.message);
					$('#'+p1).hide();
					$('#'+imgFile).val("");
				}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value + '</li>';
						});
	
					});
					errorString += '</ul>';
					showMsgModel("Error",errorString);
					return false;
				}
			}
		});
	};
	
	saveAcademicDetails = function (){
		$.ajax({
			type: "POST",
			url: base_url+"/academic_detail_save",
			data: $('#acdemic_details').serialize(),
			dataType:'json',
			beforeSend: function(){
				$('#loader').show();
				$('#SubmitApplicantData').html('<span id="loader" class="fa fa-refresh fa-spin"></span> Loading Please Wait....');
			},
			success:function(data){
				$('#loader').hide();
				$('#SubmitApplicantData').html('Save');
				if(data.status == true){
					window.location.href=data.url;
				}else if (data.status == false) {
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error In Saving</span>');
					$("#errorModelMsg").html(data.msg);
					$('#errorModel').modal('show');
				}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data.errorMsg, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value + '</li>';
						});
	
					});
					errorString += '</ul>';
					console.log(errorString);
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error</span>');
					$('#errorModelMsg').html(errorString);
					$('#errorModel').modal('show');
				}
			}
		});
	}
	
	saveEducationalDetails = function (){
		var formdata =$("form#acdemic_details").get(0);
		$.ajax({
			type: "POST",
			url: base_url+"/educational_detail_save",
			data: new FormData(formdata),
			contentType: false,
			cache: false,
			processData:false,
			async:false,
			beforeSend: function(){
				$('#loader').show();
				$('#SubmitApplicantData').html('<span id="loader" class="fa fa-refresh fa-spin"></span> Loading Please Wait....');
			},
			success:function(data){
				$('#loader').hide();
				$('#SubmitApplicantData').html('Save');
				if(data.status == true){
					window.location.href=data.url;
				}else if (data.status == false) {
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error In Saving</span>');
					$("#errorModelMsg").html(data.msg);
					$('#errorModel').modal('show');
				}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data.errorMsg, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value + '</li>';
						});
	
					});
					errorString += '</ul>';
					console.log(errorString);
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error</span>');
					$('#errorModelMsg').html(errorString);
					$('#errorModel').modal('show');
				}
			}
		});
	}
	/*For various post save Education data*/
	addEducationalData = function (){
		var formdata =$("form#acdemic_details").get(0);
		$.ajax({
			type: "POST",
			url: base_url+"/educational_data_add",
			data: new FormData(formdata),
			contentType: false,
			cache: false,
			processData:false,
			async:false,
			beforeSend: function(){
				$('#loader').show();
				$('#SubmitApplicantData').html('<span id="loader" class="fa fa-refresh fa-spin"></span> Loading Please Wait....');
			},
			success:function(data){
				$('#loader').hide();
				$('#SubmitApplicantData').html('Save');
				if(data.status == true){
					window.location.href=data.url;
				}else if (data.status == false) {
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error In Saving</span>');
					$("#errorModelMsg").html(data.msg);
					$('#errorModel').modal('show');
				}else{
					$('#loader').hide();
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data.errorMsg, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value + '</li>';
						});
	
					});
					errorString += '</ul>';
					console.log(errorString);
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error</span>');
					$('#errorModelMsg').html(errorString);
					$('#errorModel').modal('show');
				}
			}
		});
	}

	addEducationalDataGII = function (){
		var formdata =$("form#acdemic_details").get(0);
		$.ajax({
			type: "POST",
			url: base_url+"/educational_data_add-gii",
			data: new FormData(formdata),
			contentType: false,
			cache: false,
			processData:false,
			async:false,
			beforeSend: function(){
				$('#loader').show();
				$('#SubmitApplicantData').html('<span id="loader" class="fa fa-refresh fa-spin"></span> Loading Please Wait....');
			},
			success:function(data){
				$('#loader').hide();
				$('#SubmitApplicantData').html('Save');
				if(data.status == true){
					window.location.href=data.url;
				}else if (data.status == false) {
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error In Saving</span>');
					$("#errorModelMsg").html(data.msg);
					$('#errorModel').modal('show');
				}else{
					$('#loader').hide();
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data.errorMsg, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value + '</li>';
						});
	
					});
					errorString += '</ul>';
					console.log(errorString);
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error</span>');
					$('#errorModelMsg').html(errorString);
					$('#errorModel').modal('show');
				}
			}
		});
	}
	
	addEducationalDataresubmit = function (){
		var formdata =$("form#acdemic_details").get(0);
		$.ajax({
			type: "POST",
			url: base_url+"/education-details-resubmit-save",
			data: new FormData(formdata),
			contentType: false,
			cache: false,
			processData:false,
			async:false,
			beforeSend: function(){
				$('#loader').show();
				$('#SubmitApplicantData').html('<span id="loader" class="fa fa-refresh fa-spin"></span> Loading Please Wait....');
			},
			success:function(data){
				$('#loader').hide();
				$('#SubmitApplicantData').html('Save');
	
				if(data.status == true){
					window.location = base_url+"my-application";
				}else if (data.status == false) {
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error In Saving</span>');
					$("#errorModelMsg").html(data.msg);
					$('#errorModel').modal('show');
				}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data.errorMsg, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value + '</li>';
						});
	
					});
					errorString += '</ul>';
					console.log(errorString);
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error</span>');
					$('#errorModelMsg').html(errorString);
					$('#errorModel').modal('show');
				}
			}
		});
	}
	
	addEducationalDataresubmitMed = function (){
		var formdata =$("form#acdemic_details").get(0);
		$.ajax({
			type: "POST",
			url: base_url+"/med-educational_detail_save",
			data: new FormData(formdata),
			contentType: false,
			cache: false,
			processData:false,
			async:false,
			beforeSend: function(){
				$('#loader').show();
				$('#SubmitApplicantData').html('<span id="loader" class="fa fa-refresh fa-spin"></span> Loading Please Wait....');
			},
			success:function(data){
				$('#loader').hide();
				$('#SubmitApplicantData').html('Save');
	
				if(data.status == true){
					window.location = base_url+"dashboard";
				}else if (data.status == false) {
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error In Saving</span>');
					$("#errorModelMsg").html(data.msg);
					$('#errorModel').modal('show');
				}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data.errorMsg, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value + '</li>';
						});
					});
					errorString += '</ul>';
					console.log(errorString);
					$('#loader').hide();
					$('#errorModelLabel').html('<span style="color:red">Error</span>');
					$('#errorModelMsg').html(errorString);
					$('#errorModel').modal('show');
				}
			}
		});
	}
	
	/*End of this function*/
	openWindow= function(url=""){
		if(url!="")
			window.open(url, "MsgWindow", "scrollbars=yes,resizable=yes,top=100,left=100,width=1200,height=800");
	}
	/*Resend Activation*/
	resendActivation = function(){
		var app_id = getParam("app_id");
		$.ajax({
			type: "POST",
			url: base_url+"resend-activation?app_id="+app_id,
			data: $('#login').serialize(),
			dataType:'json',
			beforeSend: function(){
				$('#loader').show();
			},
			success:function(data){
				if(data.status == true){
					$('#loader').hide();
					$('#myModal').modal('hide');
					$('#errorDiv').html("");
					$('#errorDiv').hide();
					$.notify({
						title: 'Success',
						message: 'Confirmation e-mail containing an activation link and your log in details has been sent on the registered e-mail ID provided by you. Open your e-mail account and click on the activation link for completing the registration process and filling up of online application.'
						},{
						type: 'pastel-success',
						delay: 7000,
						template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert">' +
						'<span data-notify="title">{1}</span>' +
						'<span data-notify="message">{2}</span>' +
						'</div>'
					});
				}else if (data.status == false) {
					$('#loader').hide();
					$('#errorType').html('Error');
					$('#errorMSg').html(data.message);
					$('#errorDiv').addClass('alert-danger');
					$('#errorDiv').show();
				}else{
					$('#loader').hide();
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value2 + '</li>';
						});
	
					});
					errorString += '</ul>';
					$('#errorType').html('Error');
					$('#errorMSg').html(errorString);
					$('#errorDiv').addClass('alert-danger');
					$('#errorDiv').show();
				}
	
			}
		});
	}
	
	validDocument= function() {
		if ($('#CERTIFICATENO').val() == '') {
			errorElem.push("CERTIFICATENO");
		}
		if ($('#upl3').val() == '') {
			$('#errorModelLabel').html('<span>Error</span>');
			$('#errorModelMsg').html('Select A File To Upload!');
			$('#errorModel').modal('show');
			return false;
		}
		if(errorElem.length > 0){
			errorBlock();
			$('#errorModelLabel').html('<span>Error</span>');
			$('#errorModelMsg').html('You have left some mandatory fields blank in this section. They are marked in "RED" for your convenience. Please enter the required data to save and proceed further.');
			$('#errorModel').modal('show');
			return false;
		}
	}
	/* Delete Course  */
	deleteCourse = function(sub_id){
		var rr = confirm(local.deletemessage);
		if (!rr)
		return false;
		var app_id = getParam("app_id");
		/*var app_id= Base64.decode(app_id);*/
		$.ajax({
			type: "POST",
			url: base_url+'/application-delete?app_id'+app_id+'&sub_id='+sub_id,
			data:{app_id:app_id,sub_id:sub_id},
			dataType:'json',
			beforeSend: function(){
				$('#loader').show();
			},
			success:function(data){
				$('#loader').hide();
				if(data.status == true){
					location.reload();
				}else if(data.status == false){
					$('#errorModelLabel').html('<span>Error</span>');
					$('#errorModelMsg').html(data.msg);
					$('#errorModel').modal('show');
				}else{
					$('#errorModelLabel').html('<span>Error</span>');
					$('#errorModelMsg').html('Something went wrong ! Try again later');
					$('#errorModel').modal('show');
	
				}
			}
		});
	}
	
	checkIsImage = function (id){
		if($('#DOCUMENTTYPE'+id).val()==""){
			errorElem.push("DOCUMENTTYPE");
		}
		if($('#CERTIFICATETYPE'+id).val()==""){
			errorElem.push("CERTIFICATETYPE");
		}
		if($('#CERTIFICATENO'+id).val()==""){
			errorElem.push("CERTIFICATENO"+id);
		}
		if(errorElem.length > 0){
			errorBlock();
			$('#errorModelLabel').html('<span>Error</span>');
			$('#errorModelMsg').html('You have left some mandatory fields blank in this section. They are marked in "RED" for your convenience. Please enter the required data to save and proceed further.');
			$('#errorModel').modal('show');
			return false;
			}else{
			if($('#DocumentUp'+id).val()==""){
				$('#errorModelLabel').html('<span>Error</span>');
				$('#errorModelMsg').html('Please Select A Image To upload!');
				$('#errorModel').modal('show');
				return false;
			}
		}
	}
	/*Get Appliacant previous Data */
	getApplicantPreviousData= function(reg_id){
		var app_id = getParam("app_id");
		$.ajax({
			type: "POST",
			url: base_url+'/get-application-previousData?app_id'+app_id+'&reg_id='+reg_id,
			data:{app_id:app_id,reg_id:reg_id},
			dataType:'json',
			beforeSend: function(){
				$('#loader').show();
			},
			success:function(data){
				$('#loader').hide();
				if(data.success == true){
					$.each( data.appli_data, function( key, value) {
						$('#'+key).val(value);
					});
				}else{
					$('#errorModelLabel').html('<span>Error</span>');
					$('#errorModelMsg').html('Something went wrong ! Try again later');
					$('#errorModel').modal('show');
	
				}
			}
		});
	}
	newImageUploadContinue = function (id){
		$('#resize'+id).val("Y");
		$('#MAX_FILE_SIZE'+id).val("");
		$('#errormodelBTN').click();
	}
	newImageUploadSelected = function (id){
		$('#'+id).val("");
		$('#errormodelBTN').click();
	}
	
	popUp = function(id){
		$('#errorModelLabel').html('<span>Document File</span>');
		$('#errorModelMsg').html($('#imgRR'+id).html());
		$('#errorModel').modal('show');
	}
	upateCollegePreferance= function (){
		centerData = $('#centerD').find("select[id^='TESTCENTER']");
		$(centerData).each(function(index ,i) {
			var id=$(this).attr('id');
			if($('#'+id).val() =="" || $('#'+id).val() ==0){
				errorElem.push(id);
			}
		});
		if(errorElem.length > 0){
			errorBlock();
			$.notify({
				title: 'Warning',
				message: 'You have left some mandatory fields blank in this section. They are marked in "RED" for your convenience. Please enter the required data to save and proceed further'
				},{
				type: 'pastel-warning',
				delay: 7000,
				template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert">' +
				'<span data-notify="title">{1}</span>' +
				'<span data-notify="message">{2}</span>' +
				'</div>'
			});
			return false;
		}else{
			var data = $('#collegePreferance').serialize();
			var app_id = getParam("app_id");
			$.ajax({
				data: data,
				type: 'POST',
				url: 'college_selection_update?app_id='+app_id,
				beforeSend: function(){
					$('#loader').show();
				},
				success: function(result){
					$('#loader').hide();
					$.notify({
						title: 'Successfull',
						message: result
						},{
						type: 'success'
					});
				}
			});
		}
	}
	upateCenterPreferance= function (){
		if($('#TESTCENTER1').val() =="" ||$('#TESTCENTER1').val() ==0 ){
			errorElem.push('TESTCENTER1');
		}
		if(errorElem.length > 0){
			errorBlock();
			$.notify({
				title: 'Warning',
				message: 'You have left some mandatory fields blank in this section. They are marked in "RED" for your convenience. Please enter the required data to save and proceed further'
				},{
				type: 'pastel-warning',
				delay: 7000,
				template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert">' +
				'<span data-notify="title">{1}</span>' +
				'<span data-notify="message">{2}</span>' +
				'</div>'
			});
			return false;
		}else{
			var data = $('#collegePreferance').serialize();
			var app_id = getParam("app_id");
			var sub_id = getParam("sub_id");
			$.ajax({
				data: data,
				type: 'POST',
				url: 'centre_update?app_id='+app_id+"&sub_id="+sub_id,
				beforeSend: function(){
					$('#loader').show();
				},
				success: function(result){
					$('#loader').hide();
					$.notify({
						title: 'Successfull',
						message: result
						},{
						type: 'success'
					});
					window.location.href = 'centre_detail_continue?app_id='+app_id+'&sub_id='+sub_id;
				}
			});
		}
	}
	updateExamCenterPreferance= function (){
		centerData = $('#examCenterD').find("select[id^='EXAMCENTER']");
		$(centerData).each(function(index ,i) {
			var id=$(this).attr('id');
			if($('#'+id).val() =="" || $('#'+id).val() ==0){
				errorElem.push(id);
			}
		});
		if(errorElem.length > 0){
			errorBlock();
			$.notify({
				title: 'Warning',
				message: 'You have left some mandatory fields blank in this section. They are marked in "RED" for your convenience. Please enter the required data to save and proceed further'
				},{
				type: 'pastel-warning',
				delay: 7000,
				template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert">' +
				'<span data-notify="title">{1}</span>' +
				'<span data-notify="message">{2}</span>' +
				'</div>'
			});
			return false;
		}
	}
	
	updateBranchPreferance= function (){
		centerData = $('#branchPreferance').find("select[id^='BRANCH']");
		$(centerData).each(function(index ,i) {
			var id=$(this).attr('id');
			if($('#'+id).val() =="" || $('#'+id).val() ==0){
				errorElem.push(id);
			}
		});
		if(errorElem.length > 0){
			errorBlock();
			$.notify({
				title: 'Warning',
				message: 'You have left some mandatory fields blank in this section. They are marked in "RED" for your convenience. Please enter the required data to save and proceed further'
				},{
				type: 'pastel-warning',
				delay: 7000,
				template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert">' +
				'<span data-notify="title">{1}</span>' +
				'<span data-notify="message">{2}</span>' +
				'</div>'
			});
			return false;
		}
	}
	checkvalue = function(ID){
		if($('#MARKSPER'+ID).val() <0){
			$('#MARKSPER'+ID).val(0);
		}else if($('#MARKSPER'+ID).val()>100){
			$('#errorModelLabel').html('<span>Warning</span>');
			$('#errorModelMsg').html('Marks Percentage Can not be graeter then 100%.');
			$('#errorModel').modal('show');
			$('#MARKSPER'+ID).val("");
		}else if($('#MARKSPER'+ID).val().indexOf('.') != -1){
			var rr = parseFloat($('#MARKSPER'+ID).val()).toFixed(2);
			$('#MARKSPER'+ID).val(rr);
		}
	}
	
	changeUniver = function(val){
		if($('#UNIVER'+val).val() == 'OTHER'){
			$('#txtHTML'+val).show();
		}else{
			$('#txtHTML'+val).hide();
		}
	}
	digits = function(obj, e, allowDecimal, allowNegative){
		var key;
		var isCtrl = false;
		var keychar;
		var reg;
	
		if(window.event) {
			key = e.keyCode;
			isCtrl = window.event.ctrlKey
		}
		else if(e.which) {
			key = e.which;
			isCtrl = e.ctrlKey;
		}
	
		if (isNaN(key)) return true;
	
		keychar = String.fromCharCode(key);
	
		// check for backspace or delete, or if Ctrl was pressed
		if (key == 8 || isCtrl)
		{
			return true;
		}
	
		reg = /\d/;
		var isFirstN = allowNegative ? keychar == '-' && obj.value.indexOf('-') == -1 : false;
		var isFirstD = allowDecimal ? keychar == '.' && obj.value.indexOf('.') == -1 : false;
	
		return isFirstN || isFirstD || reg.test(keychar);
	}
	checkvalue2  = function (id){
	
		if($('#MARKS'+id).val() !='' && $('#MARKSTOTAL'+id).val()!=''){
			var markspaper=0;
			if(parseInt($('#MARKSTOTAL'+id).val()) < parseInt($('#MARKS'+id).val())){
				$('#errorModelLabel').html('<span>Warning</span>');
				$('#errorModelMsg').html('Total Marks should not less than Marks Obtained');
				$('#errorModel').modal('show');
				$('#MARKS'+id).val("");
				$('#MARKSPER'+id).val("");
			}else{
				var devider = (parseInt($('#MARKS'+id).val()) /parseInt($('#MARKSTOTAL'+id).val()))*100;
				markspaper = $('#MARKSPER'+id).val(Math.round(devider*100)/100);
				getWeightageValue(id);
			}
		}else{
			$('#MARKSPER'+id).val("");
		}
	}
	checkvalue3 = function(id){
		if($('#MARKSTOTAL'+id).val() !='' && $('#MARKS'+id).val() !=''){
			var markspaper =0;
			if(parseInt($('#MARKS'+id).val()) > parseInt($('#MARKSTOTAL'+id).val())){
				$('#errorModelLabel').html('<span>Warning</span>');
				$('#errorModelMsg').html('Marks Obtained should not greater than Total Marks');
				$('#errorModel').modal('show');
				$('#MARKSTOTAL'+id).val("");
				$('#MARKSPER'+id).val("");
			}else{
				var devider = (parseInt($('#MARKS'+id).val()) / parseInt($('#MARKSTOTAL'+id).val()))*100;
				markspaper = $('#MARKSPER'+id).val(Math.round(devider*100)/100);
				getWeightageValue(id);
			}
		}else{
			$('#MARKSPER'+id).val("");
		}
	}
	validatePassword=function() {
		var password = document.getElementById('password').value;
		var minNumberofChars = 8;
		var maxNumberofChars = 15;
		var hasUpperCase = /[A-Z]/.test(password);
		var hasLowerCase = /[a-z]/.test(password);
		var hasNumbers = /\d/.test(password);
		var hasNonalphas = /\W/.test(password);
		if(hasUpperCase==1)
		{
			$('#upper').addClass('text-success');
			$('#upper').removeClass('text-danger');
		}
	
		if(password.length < minNumberofChars || password.length > maxNumberofChars){
			showMsgModel(local.warning,local.password_msg);
			return false;
		}
	
		if(hasUpperCase + hasLowerCase + hasNumbers + hasNonalphas < 4 ) {
			showMsgModel(local.warning,local.password_msg);
			return false;
		}
	}
	
	validatePassworddisplay=function() {
		var password = document.getElementById('password').value;
		var minNumberofChars = 8;
		var maxNumberofChars = 15;
		var hasUpperCase = /[A-Z]/.test(password);
		var hasLowerCase = /[a-z]/.test(password);
		var hasNumbers = /\d/.test(password);
		var hasNonalphas = /\W/.test(password);
	
		if(hasUpperCase==1)
		{
			$('#upper').slideUp(1000);
		}
		else{
			$('#upper').slideDown(1000);
		}
		if(hasLowerCase==1)
		{
			$('#lower').slideUp(1000);
		}
		else{
			$('#lower').slideDown(1000);
		}
		if(hasNumbers==1)
		{
			$('#digit').slideUp(1000);
		}
		else{
			$('#digit').slideDown(1000);
		}
		if(hasNonalphas==1)
		{
			$('#spch').slideUp(1000);
		}
		else{
			$('#spch').slideDown(1000);
		}
		if(password.length < minNumberofChars || password.length > maxNumberofChars){
		   $('#lengthmax').slideDown(1000);
		}else{
			$('#lengthmax').slideUp(1000);
		}
		//set Password Strength Bar
		passwordStrength(password, document.querySelector('.password-strength__bar'));
	}
	
	checkConfirmPassword=function() {
		var newPassword = $('#password').val();
		var checkPassword = $('#password_confirmation').val();
		if(newPassword != checkPassword){
			showMsgModel(local.warning,local.password_didnot_match);
			$('#password').parent('div').removeClass('has-success');
			$('#password_confirmation').parent('div').removeClass('has-success');
			$('#password').parent('div').addClass('has-error');
			$('#password_confirmation').parent('div').addClass('has-error');
			return false;
		}
	}
	
	checkConfirmEmail=function() {
		var newEmail = $('#email').val();
		var confirmEmail = $('#email2').val();
		if(isEmail(newEmail) || isEmail(confirmEmail)){
			if(newEmail != '' && confirmEmail != '') {
				if (newEmail != confirmEmail) {
					showMsgModel(local.warning, local.emailmatch);
					$('#email').parent('div').removeClass('has-success');
					$('#email2').parent('div').removeClass('has-success');
					$('#email').parent('div').addClass('has-error');
					$('#email2').parent('div').addClass('has-error');
					$('#email2').focus();
					return false;
				}
			}
		}else{
			showMsgModel(local.warning, "Please Enter Valid Email ID");
		}    	
	}
	
	addresssame=function()
		{
	
			if(document.getElementById('sameAddress').checked)
			{
				copySame();
			}
			else{
				return false;
			}
		}
	
	addresssamedis=function(m,k)
		{
	
			if(document.getElementById('sameAddress').checked)
			{
				getDistrict(m,k)
				copySame();
			}
			else{
				return false;
			}
		}
	
	passworspace=function(event) {
		var k = event ? event.which : window.event.keyCode;
		if (k == 32) return false;
	}
	
	mobilevalidationlength=function()
	{
		var mobile=document.getElementById('MOBILE').value;
		if(mobile.length==10)
		{
			if(mobile>=6111111111)
			{
				$("#mvbtn").removeClass('disabled');
			}else{
				// showMsgModel(local.warning,local.mobile_verify);
				// return false;
				$("#mvbtn").removeClass('disabled');
			}
		}
		else{
			$("#mvbtn").addClass('disabled');
		}
	}
	
	$(".nameclass").on('input', function(event) {
			var regexp = /[^a-zA-Z @]/g;
			if($(this).val().match(regexp)){
				$(this).val( $(this).val().replace(regexp,'') );
			}
		});
	
	$(".initials").on('input', function(event) {
			var regexp = /[^a-zA-Z .]/g;
			if($(this).val().match(regexp)){
				$(this).val( $(this).val().replace(regexp,'') );
			}
		});
	
	$(".address").on('input', function(event) {
			var regexp = /[^a-zA-Z0-9 /,]/g;
			if($(this).val().match(regexp)){
				$(this).val( $(this).val().replace(regexp,'') );
			}
		});
	
	$(".textonly").on('input', function(event) {
			var regexp = /[^a-zA-Z]/g;
			if($(this).val().match(regexp)){
				$(this).val( $(this).val().replace(regexp,'') );
			}
		});
	$(".textnumber").on('input', function(event) {
			var regexp = /[^a-zA-Z0-9]/g;
			if($(this).val().match(regexp)){
				$(this).val( $(this).val().replace(regexp,'') );
			}
		});
	$(".numberonly").on('input', function(event) {
		var regexp = /[^0-9]/g;
		if($(this).val().match(regexp)){
			$(this).val( $(this).val().replace(regexp,'') );
		}
	});
	
	/* applicant details page*/
	
	checkPreviousPayment=function(typ="",app_id=""){
		if(typ==""){
			showMsgModel("",'Something Went Wrong.');
			return false;
		}else{
			$.ajax({
				url: base_url+"check-previous-payment",
				type: 'GET',
				data:{typ:typ,app_id:app_id},
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('#previousPayemnt').html("");
					$('#cpt').html('<span id="loader" class="fa fa-refresh fa-spin"></span>Please Wait ....');
				},
				success:function(data){
					$('#cpt').html('View Previous Payment');
					if(data.success==true){
						$('#previousPayemnt').html(data.html);
					}else if(data.success==false){
						showMsgModel("Error",data.msg);
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
	
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
					$('#loader').hide();
				},
				error: function(data) {
					showMsgModel("Error","Something went wrong ! Try again");
				}
			});
		}
	}
	updatePaymentStatus=function(typ="",reg_no="",orderid="",pay_id='',amount="",appli_no=''){
		$.ajax({
				url: base_url+"update-payment-status",
				type: 'POST',
				data:{typ:typ,reg_no:reg_no,orderid:orderid,pay_id:pay_id,amount:amount,appli_no:appli_no},
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
				},
				success:function(data){
					if(data.success==true){
						window.location=data.url;
					}else if(data.success==false){
						showMsgModel("Error",data.msg);
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
	
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
					$('#loader').hide();
				},
				error: function(data) {
					showMsgModel("Error","Something went wrong ! Try again");
				}
			});
	}

	checkPreviousPaymentOtrRenwal=function(typ="",app_id=""){
		if(typ==""){
			showMsgModel("",'Something Went Wrong.');
			return false;
		}else{
			$.ajax({
				url: base_url+"check-otr-renewal-previous-payment",
				type: 'GET',
				data:{typ:typ,app_id:app_id},
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('#previousPayemnt').html("");
					$('#cpt').html('<span id="loader" class="fa fa-refresh fa-spin"></span>Please Wait ....');
				},
				success:function(data){
					$('#cpt').html('View Previous Payment');
					if(data.success==true){
						$('#previousPayemnt').html(data.html);
					}else if(data.success==false){
						showMsgModel("Error",data.msg);
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
	
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
					$('#loader').hide();
				},
				error: function(data) {
					showMsgModel("Error","Something went wrong ! Try again");
				}
			});
		}
	}
	
	/*Deprmental Exam Mobile Verification*/
	
	checkForMobileDept=function(){
		if($('#loginid').val()==''){
			showMsgModel(local.warning,local.mobile_verify);
			return false;
		}
		if($('#loginid').val() == $('#OLDMOBILE').val()){
			showMsgModel(local.warning,local.mobile_same_number);
			return false;
		}
		$('#lmobi').html('<img class="ajax_loader" src="images/ajax_loader.gif">');
		$('#lmobi').removeClass('hide');
		bootbox.confirm({
			title: local.otp_header+"!",
			message: local.otp_body+ ": "+$('#loginid').val() + " " +local.otp_body_ext,
			buttons: {
				confirm: {
					label: '<i class="fa fa-check"></i> '+local.otp_confirm,
					className: 'btn-success'
				},
				cancel: {
					label: '<i class="fa fa-times"></i> '+local.otp_change,
					className: 'btn-danger'
				}
			},
			callback: function (re) {
				if(re==true){
					/* for showing timer on verify button*/
					var starttime = 60;
					var otptimer = setInterval(function(){
						starttime=starttime-1;
						$("#loginCheckId").html(starttime+ local.otp_time);
					}, 1000);
	
					/* for disabeling/enabeling verify button*/
					$("#loginCheckId").addClass('disabled');
					setTimeout(function() {
						$("#loginCheckId").removeClass('disabled');
						clearInterval(otptimer);
						$("#loginCheckId").html(local.submittxt);
						/*if($('#mv').val()==1){
							$("#loginCheckId").html("Verify");
						}*/
					}, 60000);
					var app_id = getParam("app_id");
	
					$.get( base_url+"/validate-mobile?app_id="+app_id+"&MOBILE_COMMUNICATION="+$('#loginid').val(), function( data ) {
						if(data.status==true){
							var passCode= data.passcode;
							bootbox.prompt({
								title: local.enter_otp,
								inputType: 'text',
								buttons:{
									confirm: {
										label: local.ok,
											className: 'btn-success'
										 },
										cancel: {
											label: local.cancel,
											className: 'btn-danger'
										},
										/* ok: {
											label: "Resend",
											className: 'btn-primary'
										} */
								},
								callback: function (result) {
									if(result || result==''){
										if(result==''){
											return false;
										}
	
										$.ajax({
											type: "POST",
											url: base_url+"/verify-otp?app_id="+app_id,
											data:{TXN_ID:passCode, OTP:Base64.encode(result)},
											datatype:"json",
											async : false,
											beforeSend: function(){
												$('#loader').show();
											},
											success:function(data){
												$('#loader').hide();
	
												if(data.status){
													$('#mv').val('1');
													$('#lmobi').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
													$('#lmobi').removeClass('hide');
													$("#loginCheckId").removeClass('disabled');
													clearInterval(otptimer);
													$("#loginCheckId").html(local.submittxt);
													$("#loginCheckId").addClass("hide");
													$('#loginid').prop('readonly',true);
													$('#registrationForm').show();
													$('#loginIdCheckForm').hide();
													$('#MOBILE_NO').val($('#loginid').val());
													$('#MOBILE_NO').prop('readonly',true);
													$('#LOGIN_ID').val($('#loginid').val());
													$('#LOGIN_ID').prop('readonly',true);
													if($('#otp_txn').length) {
														$('#otp_txn').val(passCode);
													}else{
														$('<input>').attr({ type: 'hidden', id: 'otp_txn', name: 'OTP_TXN' }).insertAfter('#mv');
														$('#otp_txn').val(passCode);
													}
												}else{
													/*showMsgModel(local.error,local.passcodejs);
													$('#lmobi').addClass('hide');*/
													/*For re-enter OTP*/
													bootbox.confirm({
														message: local.passcodejs,
														buttons: {
															confirm: {
																label: local.ok,
																className: 'btn-success'
															},
															cancel: {
																label: local.cancel,
																className: 'hide btn-danger'
															},
														},
														callback: function (res) {
															bootbox.prompt({
																title: local.enter_otp,
																inputType: 'text',
																buttons:{
																	confirm: {
																		label: local.ok,
																			className: 'btn-success'
																		},
																		cancel: {
																			label: local.cancel,
																			className: 'btn-danger'
																		},
																		/* ok: {
																			label: "Resend",
																			className: 'btn-primary'
																		} */
																},
																callback: function (result) {
																	if(result || result==''){
																		if(result==''){
																			return false;
																		}
	
																		$.ajax({
																			type: "POST",
																			url: base_url+"/verify-otp?app_id="+app_id,
																			data:{TXN_ID:passCode, OTP:Base64.encode(result)},
																			datatype:"json",
																			async : false,
																			beforeSend: function(){
																				$('#loader').show();
																			},
																			success:function(data){
																				$('#loader').hide();
	
																				if(data.status){
																					$('#mv').val('1');
																					$('#lmobi').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
																					$('#lmobi').removeClass('hide');
																					$("#loginCheckId").removeClass('disabled');
																					clearInterval(otptimer);
																					$("#loginCheckId").html(local.submittxt);
																					$("#loginCheckId").addClass("hide");
																					$('#loginid').prop('readonly',true);
																					$('#registrationForm').show();
																					$('#loginIdCheckForm').hide();
																					$('#MOBILE_NO').val($('#loginid').val());
																					$('#MOBILE_NO').prop('readonly',true);
																					$('#LOGIN_ID').val($('#loginid').val());
																					$('#LOGIN_ID').prop('readonly',true);
																					if($('#otp_txn').length) {
																						$('#otp_txn').val(passCode);
																					}else{
																						$('<input>').attr({ type: 'hidden', id: 'otp_txn', name: 'OTP_TXN' }).insertAfter('#mv');
																						$('#otp_txn').val(passCode);
																					}
																				}else{
																					showMsgModel(local.error,local.passcodejs);
																					$('#lmobi').addClass('hide');
																				}
																			}
																		});
																	}else{
																		$('#lmobi').addClass('hide');
																	}
																}
															});
														}
													});
													/*End of re-enter OTP*/
												}
											}
										});
									}else{
										$('#lmobi').addClass('hide');
										$("#mvbtn").removeClass('disabled');
										clearInterval(otptimer);
										$("#mvbtn").html(local.resend_otp);
									}
								}
							});
						}else{
							// $('#errorModelLabel').html('<span>'+local.error+'</span>');
							// $('#errorModelMsg').html(data.msg);
							// $('#errorModel').modal('show');
							$('#lmobi').addClass('hide');
							// $("#loginCheckId").html("Submit");
						}
					});
				}else{
					$('#lmobi').addClass('hide');
					$('#llid').addClass('hide');
					$("#loginCheckId").addClass('hide');
					$('#loginid').val("");
					$('#captcha').val("");
					$('#captchaDivId').show();
					$("#loginid").attr('readonly',false);
					refreshCaptcha();
				}
			}
		});
	}
	
	/*DEPARTMENTAL EXAM LOGIN*/
	
	openDeptLoginPage =function(){
		var app_id = getParam("app_id");
		$.ajax({
			type: "GET",
			url: base_url+"/get-dept-login-form?app_id="+app_id,
			dataType:'json',
			beforeSend: function(){
				var dialog = bootbox.dialog({
					message: '<p class="text-center">Please wait while we do something...</p>',
					closeButton: false
				});
			},
			success:function(data){
				$('.modal').modal('hide');
				if(data.success == true){
					bootbox.dialog({
						title: data.label,
						message: data.html,
						closeButton: true
					});
					$('#login').each(function(){
						$(this).find('input').keypress(function(e) {
							if(e.which == 13) {
								return false;
							}
						});
					});
					}else{
					showMsgModel("Error","Something went wrong ! Try again later");
				}
			}
		});
	}
	
	postDeptLogin = function(){
		if($('#EMAIL_ID').val() == ""){
			errorElem.push("EMAIL_ID");
		}
		if($('#PASSWORD').val() == ""){
			errorElem.push("PASSWORD");
		}
		if($('#logincaptcha').val() == ""){
			errorElem.push("logincaptcha");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>Please enter data for required fields!</div>');
			return false;
			}else{
			$.ajax({
				type: "POST",
				url: base_url+"checkDeptLogin",
				data: $('#login').serialize(),
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('.modal-dialog').find('.alertMsg').html("");
				},
				success:function(data){
					if(data.status == true){
						window.location = data.intended_url;
					}else if (data.status == false) {
						$('#loader').hide();
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+data.message+'</div>');
						refreshCaptcha();
						$('#logincaptcha').val("");
					}else{
						refreshCaptcha();
						$('#logincaptcha').val("");
						$('#loader').hide();
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+errorString+'</div>');
					}
	
				}
			});
		}
	}
	/*Departmental Login End*/
	
	postOaLogin = function(){
		if($('#EMAIL_ID').val() == ""){
			errorElem.push("EMAIL_ID");
		}
		if($('#PASSWORD').val() == ""){
			errorElem.push("PASSWORD");
		}
		if($('#logincaptcha').val() == ""){
			errorElem.push("logincaptcha");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>Please enter data for required fields!</div>');
			return false;
			}else{
			$.ajax({
				type: "POST",
				url: base_url+"checkOaLogin",
				data: $('#login').serialize(),
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('.modal-dialog').find('.alertMsg').html("");
				},
				success:function(data){
					if(data.status == true){
						window.location = data.intended_url;
					}else if (data.status == false) {
						$('#loader').hide();
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+data.message+'</div>');
						refreshCaptcha();
						$('#logincaptcha').val("");
					}else{
						refreshCaptcha();
						$('#logincaptcha').val("");
						$('#loader').hide();
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+errorString+'</div>');
					}
	
				}
			});
		}
	}

	/*Departmental Forget Password OTP varification start*/
	
	checkDeptForgetPass=function(){
		if($('#loginid').val()==''){
			showMsgModel(local.warning,local.mobile_verify);
			return false;
		}
	
		$('#lmobi').html('<img class="ajax_loader" src="images/ajax_loader.gif">');
		$('#lmobi').removeClass('hide');
		bootbox.confirm({
			title: local.otp_header+"!",
			message: local.otp_body+ ": "+$('#loginid').val() + " " +local.otp_body_ext,
			buttons: {
				confirm: {
					label: '<i class="fa fa-check"></i> '+local.otp_confirm,
					className: 'btn-success'
				},
				cancel: {
					label: '<i class="fa fa-times"></i> '+local.otp_change,
					className: 'btn-danger'
				}
			},
			callback: function (re) {
				if(re==true){
					/* for showing timer on verify button*/
					var starttime = 60;
					var otptimer = setInterval(function(){
						starttime=starttime-1;
						$("#loginCheckId").html(starttime+ local.otp_time);
					}, 1000);
	
					/* for disabeling/enabeling verify button*/
					$("#loginCheckId").addClass('disabled');
					setTimeout(function() {
						$("#loginCheckId").removeClass('disabled');
						clearInterval(otptimer);
						$("#loginCheckId").html(local.submittxt);
						/*if($('#mv').val()==1){
							$("#loginCheckId").html("Verify");
						}*/
					}, 60000);
					var app_id = getParam("app_id");
	
					$.get( base_url+"/validate-mobile?app_id="+app_id+"&MOBILE_COMMUNICATION="+$('#loginid').val(), function( data ) {
						if(data.status==true){
							var passCode= data.passcode;
							bootbox.prompt({
								title: local.enter_otp,
								inputType: 'text',
								buttons:{
									confirm: {
										label: local.ok,
											className: 'btn-success'
										 },
										cancel: {
											label: local.cancel,
											className: 'btn-danger'
										},
										/* ok: {
											label: "Resend",
											className: 'btn-primary'
										} */
								},
								callback: function (result) {
									if(result || result==''){
										if(result==''){
											return false;
										}
	
										$.ajax({
											type: "POST",
											url: base_url+"/verify-otp?app_id="+app_id,
											data:{TXN_ID:passCode, OTP:Base64.encode(result)},
											datatype:"json",
											async : false,
											beforeSend: function(){
												$('#loader').show();
											},
											success:function(data){
												$('#loader').hide();
	
												if(data.status){
													$('#mv').val('1');
													$('#lmobi').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
													$('#lmobi').removeClass('hide');
													$("#loginCheckId").removeClass('disabled');
													clearInterval(otptimer);
													$("#loginCheckId").html(local.submittxt);
													$("#loginCheckId").addClass("hide");
													$('#loginid').prop('readonly',true);
													$('#changePasswordForm').show();
													$('#loginIdCheckForm').hide();
													$('#LOGIN_ID').val($('#loginid').val());
													$('#LOGIN_ID').prop('readonly',true);
													$('#regContinuePass').removeClass('hide');
													if($('#otp_txn').length) {
														$('#otp_txn').val(passCode);
													}else{
														$('<input>').attr({ type: 'hidden', id: 'otp_txn', name: 'OTP_TXN' }).insertAfter('#mv');
														$('#otp_txn').val(passCode);
													}
												}else{
													/*showMsgModel(local.error,local.passcodejs);
													$('#lmobi').addClass('hide');*/
													/*For re-enter OTP*/
													bootbox.confirm({
														message: local.passcodejs,
														buttons: {
															confirm: {
																label: local.ok,
																className: 'btn-success'
															},
															cancel: {
																label: local.cancel,
																className: 'hide btn-danger'
															},
														},
														callback: function (res) {
															bootbox.prompt({
																title: local.enter_otp,
																inputType: 'text',
																buttons:{
																	confirm: {
																		label: local.ok,
																			className: 'btn-success'
																		},
																		cancel: {
																			label: local.cancel,
																			className: 'btn-danger'
																		},
																		/* ok: {
																			label: "Resend",
																			className: 'btn-primary'
																		} */
																},
																callback: function (result) {
																	if(result || result==''){
																		if(result==''){
																			return false;
																		}
	
																		$.ajax({
																			type: "POST",
																			url: base_url+"/verify-otp?app_id="+app_id,
																			data:{TXN_ID:passCode, OTP:Base64.encode(result)},
																			datatype:"json",
																			async : false,
																			beforeSend: function(){
																				$('#loader').show();
																			},
																			success:function(data){
																				$('#loader').hide();
	
																				if(data.status){
																					$('#mv').val('1');
																					$('#lmobi').html('<i style="color:green;" class="fa fa-check-circle fa-2x" aria-hidden="true"></i>');
																					$('#lmobi').removeClass('hide');
																					$("#loginCheckId").removeClass('disabled');
																					clearInterval(otptimer);
																					$("#loginCheckId").html(local.submittxt);
																					$("#loginCheckId").addClass("hide");
																					$('#loginid').prop('readonly',true);
																					$('#changePasswordForm').show();
																					$('#loginIdCheckForm').hide();
																					$('#LOGIN_ID').val($('#loginid').val());
																					$('#LOGIN_ID').prop('readonly',true);
																					$('#regContinuePass').removeClass('hide');
																					if($('#otp_txn').length) {
																						$('#otp_txn').val(passCode);
																					}else{
																						$('<input>').attr({ type: 'hidden', id: 'otp_txn', name: 'OTP_TXN' }).insertAfter('#mv');
																						$('#otp_txn').val(passCode);
																					}
																				}else{
																					showMsgModel(local.error,local.passcodejs);
																					$('#lmobi').addClass('hide');
																				}
																			}
																		});
																	}else{
																		$('#lmobi').addClass('hide');
																	}
																}
															});
														}
													});
													/*End of re-enter OTP*/
												}
											}
										});
									}else{
										$('#lmobi').addClass('hide');
										$("#mvbtn").removeClass('disabled');
										clearInterval(otptimer);
										$("#mvbtn").html(local.resend_otp);
									}
								}
							});
						}else{
							$('#errorModelLabel').html('<span>'+local.error+'</span>');
							$('#errorModelMsg').html(data.msg);
							$('#errorModel').modal('show');
							$('#lmobi').addClass('hide');
							$("#loginCheckId").html("Submit");
						}
					});
				}else{
					$('#lmobi').addClass('hide');
					$('#llid').addClass('hide');
					$("#loginCheckId").addClass('hide');
					$('#loginid').val("");
					$('#captcha').val("");
					$('#captchaDivId').show();
					$("#loginid").attr('readonly',false);
					refreshCaptcha();
				}
			}
		});
	}
	
	/*Departmental Forget Password OTP varification end*/
	
	
	//Officer Exam Registration
	submitOfficerRegistration= function(){
		var input=[];
		input = $('#frm1').find(":input");
		$(input).each(function(index ,i) {
			if($(this).attr('name')!="_token"){
				if($('#' + $(this).attr('id')).hasClass('required') && $('#' + $(this).attr('id')).val()==""){
					if ($(this).attr('id') == 'signFile' || $(this).attr('id') == 'imgFile') {
						showMsgModel(local.warning, 'Please Upload Photo And Signature');
						errorElem.push($(this).attr('id'));
					} else if ($('#' + $(this).attr('id')).get(0).hasAttribute('minlength') && $('#' + $(this).attr("minlength") != "") && $('#' + $(this).attr('id')).val().length < $('#' + $(this).attr("minlength"))) {
						errorElem.push($(this).attr('id'));
					} else {
						errorElem.push($(this).attr('id'));
					}
				}
			}
		});
		var sel= [];
		sel = $('#frm1').find(":selected");
		$(sel).each(function(index ,i) {
			if($(this).attr('name')!="_token"){
				if($('#' + $(this).attr('id')).hasClass('required') && $('#' + $(this).attr('id')).val()==""){
					errorElem.push($(this).attr('id'));
				}
			}
		});
	
		if($('#OLDMOBILE').val()!=$('#MOBILE').val() && $('#MOBILE_VERIFY').length && $('#MOBILE_VERIFY').val()=="1"){
			if($('#mv').val()=="0"){
				errorBlock();
				$('#errorModelLabel').html('<span>'+local.error+'</span>');
				$('#errorModelMsg').html(local.mobile_error);
				$('#errorModel').modal('show');
				$('#MOBILE').focus();
				return false;
			}
		}
	
		if(errorElem.length > 0){
			errorBlock();
			showMsgModel(local.warning,local.data_required);
			return false;
		}else{
			var result=false;
			bootbox.confirm({
				message: local.finalalert,
				buttons: {
					confirm: {
						label: local.yes,
						className: 'btn-success'
					},
					cancel: {
						label: local.no,
						className: 'btn-danger'
					}
				},
				callback: function (result) {
					officerPrieviewSubmit(result);
				}
			});
		}
	}
	
	officerPrieviewSubmit = function(result=false){
		if(result==true){
			var app_id = getParam("app_id");
			$.ajax({
				type: "POST",
				url: base_url+'/save-officer-registration?app_id='+app_id,
				data:$('#frm1').serialize(),
				datatype:"json",
				async : false,
				beforeSend: function(){
					$('#loader').show();
				},
				success:function(data){
					$('#loader').hide();
					if(data.status == true){
						if(data.url_path==""){
							getStepPage("officer-registration-preview?app_id="+app_id);
							jQuery('html,body').animate({scrollTop:0},500);
						}else if(data.url_path!=""){
							window.location=data.url_path;
						}
						$('.btnCheck').addClass('hide');
					}else if(data.status == false){
						showMsgModel("Error",data.msg);
					}else{
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						showMsgModel("Error",errorString);
					}
				}
			});
		}
	}
	
	officerRegistrationPrieviewSubmit = function(result=false){
		var app_id = getParam("app_id");
		$.ajax({
			type: "POST",
			url: base_url+'/save-officer-registration-preview?app_id='+app_id,
			data:$('#frm1').serialize(),
			datatype:"json",
			async : false,
			beforeSend: function(){
				$('#loader').show();
			},
			success:function(data){
				$('#loader').hide();
				if(data.status == true){
					window.location=data.url_path;
					$('.btnCheck').addClass('hide');
				}else if(data.status == false){
					showMsgModel("Error",data.msg);
				}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value2 + '</li>';
						});
					});
					errorString += '</ul>';
					showMsgModel("Error",errorString);
				}
			}
		});
	}
			
	//Officer Exam login
	openOfficerLoginPage =function(){
		var app_id = getParam("app_id");
		$.ajax({
			type: "GET",
			url: base_url+"/get-officer-login-form?app_id="+app_id,
			dataType:'json',
			beforeSend: function(){
				var dialog = bootbox.dialog({
					message: '<p class="text-center">Please wait while we do something...</p>',
					closeButton: false
				});
			},
			success:function(data){
				$('.modal').modal('hide');
				if(data.success == true){
					bootbox.dialog({
						title: data.label,
						message: data.html,
						closeButton: true
					});
					$('#login').each(function(){
						$(this).find('input').keypress(function(e) {
							if(e.which == 13) {
								return false;
							}
						});
					});
					}else{
					showMsgModel("Error","Something went wrong ! Try again later");
				}
			}
		});
	}
	
	postOfficerLogin = function(){
		if($('#EMAIL_ID').val() == ""){
			errorElem.push("EMAIL_ID");
		}
		if($('#PASSWORD').val() == ""){
			errorElem.push("PASSWORD");
		}
		if($('#logincaptcha').val() == ""){
			errorElem.push("logincaptcha");
		}
		if(errorElem.length > 0){
			errorBlock();
			$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>Please enter data for required fields!</div>');
			return false;
			}else{
			$.ajax({
				type: "POST",
				url: base_url+"checkOfficerLogin",
				data: $('#login').serialize(),
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('.modal-dialog').find('.alertMsg').html("");
				},
				success:function(data){
					if(data.status == true){
						window.location = data.intended_url;
					}else if (data.status == false) {
						$('#loader').hide();
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+data.message+'</div>');
						refreshCaptcha();
						$('#logincaptcha').val("");
					}else{
						refreshCaptcha();
						$('#logincaptcha').val("");
						$('#loader').hide();
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>'+errorString+'</div>');
					}
	
				}
			});
		}
	}
	
	getOfficerDistrict = function (srcid, targetid){
		var app_id = getParam("app_id");
		var stateid= $('#'+srcid).val();
		$.ajax({
			type: "POST",
			url: base_url+"/get-officer-district",
			data:{app_id:app_id,stateid:stateid,targetid:targetid},
			dataType:'json',
			beforeSend: function(){
				$('#loader').show();
				$('#'+targetid).html("");
			},
			success:function(data){
				$('#loader').hide();
				if(data.status==true){
					$('#'+targetid).html(data.options);
					}else if(data.status == false){
					showMsgModel("Error",data.msg);
					}else{
					var errorString = '<ul style="padding-left: 20px;">';
					$.each( data, function( key, value) {
						$.each( value, function( key1, value2) {
							errorString += '<li>' + value2 + '</li>';
						});
	
					});
					errorString += '</ul>';
					showMsgModel("Error",errorString);
				}
			}
		});
	}
	
	inv_get = function(){
		if($('#Inv_Mobile').val() == ""){
			errorElem.push("Inv_Mobile");
		}
		
		if(errorElem.length > 0){
			errorBlock();
			$('.help-block').text('');
			$('.modal-dialog').find('.alertMsg').html('<div class="alert alert-danger"><button aria-hidden="true" data-dismiss="alert" class="close" type="button">Ã—</button>Please enter data for required fields!</div>');
			return false;
		}else{
			$('.help-block').text('');		
			$.ajax({
				type: "POST",
				url: base_url+"getinv",
				data: $('#checkInv').serialize(),
				dataType:'json',
				beforeSend: function(){
					$('#loader').show();
					$('.modal-dialog').find('.alertMsg').html("");
					$('#inv_content').html("");
				},
				success:function(data){
					if(data.status == true){
						$('#loader').hide();
						$('#inv_content').html('<p>' + data.message + '</p>');		
					}else if (data.status == false) {
						$('#loader').hide();
						$('#inv_content').html('<p style="color:red; font-weight:bold;">' + data.message + '</p>');							
					}else{					
						$('#loader').hide();
						var errorString = '<ul style="padding-left: 20px;">';
						$.each( data, function( key, value) {
							$.each( value, function( key1, value2) {
								errorString += '<li>' + value2 + '</li>';
							});
						});
						errorString += '</ul>';
						$('#inv_content').html(errorString);
					}
				}
			});
		}
	}
	
	//-----------Password Strength Bar Start-----------------
	const testPasswRegexp = (passw, regexp) => {
		return regexp.test(passw);
	};
	
	const testPassw = passw => {
		let strength = 'none';
	
		const moderate    = /(?=.*[A-Z])(?=.*[a-z]).{5,}|(?=.*[\d])(?=.*[a-z]).{5,}|(?=.*[\d])(?=.*[A-Z])(?=.*[a-z]).{5,}/g;
		const strong      = /(?=.*[A-Z])(?=.*[a-z])(?=.*[\d]).{6,}|(?=.*[\!@#$%^&*()\\[\]{}\-_+=~`|:;"'<>,./?])(?=.*[a-z])(?=.*[\d]).{6,}/g;
		const extraStrong = /(?=.*[A-Z])(?=.*[a-z])(?=.*[\d])(?=.*[\!@#$%^&*()\\[\]{}\-_+=~`|:;"'<>,./?]).{8,}/g;
	
		if (testPasswRegexp(passw, extraStrong)) {
			strength = 'extra';
		} else if (testPasswRegexp(passw, strong)) {
			strength = 'strong';
		} else if (testPasswRegexp(passw, moderate)) {
			strength = 'moderate';
		} else if (passw.length > 0) {
			strength = 'weak';
		}
		return strength;
	};
	
	const setStrengthBarValue = (bar, strength) => {
		let strengthValue;
	
		switch (strength) {
			case 'weak':
				strengthValue = 25;
				bar.setAttribute('aria-valuenow', strengthValue);
				break;
	
			case 'moderate':
				strengthValue = 50;
				bar.setAttribute('aria-valuenow', strengthValue);
				break;
	
			case 'strong':
				strengthValue = 75;
				bar.setAttribute('aria-valuenow', strengthValue);
				break;
	
			case 'extra':
				strengthValue = 100;
				bar.setAttribute('aria-valuenow', strengthValue);
				break;
	
			default:
				strengthValue = 0;
				bar.setAttribute('aria-valuenow', 0);
		}
		return strengthValue;
	};
	
	//also adds a text label based on styles
	const setStrengthBarStyles = (bar, strengthValue) => {
		bar.style.width = `${strengthValue}%`;
		bar.classList.remove('bg-success', 'bg-info', 'bg-warning');
	
		switch (strengthValue) {
			case 25:
				bar.classList.add('bg-danger');
				bar.textContent = 'Weak';
				break;
	
			case 50:
				bar.classList.remove('bg-danger');
				bar.classList.add('bg-warning');
				bar.textContent = 'Moderate';
				break;
	
			case 75:
				bar.classList.remove('bg-danger');
				bar.classList.add('bg-info');
				bar.textContent = 'Strong';
				break;
	
			case 100:
				bar.classList.remove('bg-danger');
				bar.classList.add('bg-success');
				bar.textContent = 'Extra Strong';
				break;
	
			default:
				bar.classList.add('bg-danger');
				bar.textContent = '';
				bar.style.width = `0`;
		}
	};
	
	const setStrengthBar = (bar, strength) => {
		//setting value
		const strengthValue = setStrengthBarValue(bar, strength);
		//setting styles
		setStrengthBarStyles(bar, strengthValue);
	};
	
	const passwordStrength = (input, strengthBar) => {
		//getting password
		const passw = input;
		//finding strength
		const strength = testPassw(passw);
		//setting strength bar (value and styles)
		setStrengthBar(strengthBar, strength);
	};
	//-----------Password Strength Bar End-----------------
	
// }
